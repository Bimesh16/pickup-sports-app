import{c as V,r as m,j as e,C as le,i as X,q as I,L as re,m as ie,E as oe,s as Q,a as ce,t as me,T as de,A as ge,I as R,l as ee,v as H}from"./index-5gA1ZPbL.js";import{C as ue,U as he,I as xe,M as pe}from"./UnifiedJoinTheLeague-Crs76dht.js";import{U as W}from"./user-BxzEEfUu.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M12 6.528V3a1 1 0 0 1 1-1h0",key:"11qiee"}],["path",{d:"M18.237 21A15 15 0 0 0 22 11a6 6 0 0 0-10-4.472A6 6 0 0 0 2 11a15.1 15.1 0 0 0 3.763 10 3 3 0 0 0 3.648.648 5.5 5.5 0 0 1 5.178 0A3 3 0 0 0 18.237 21",key:"110c12"}]],be=V("apple",fe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],je=V("chromium",ye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Ne=V("facebook",we);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ke=V("log-in",ve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ce=V("shield-check",Se);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Me=V("sparkles",_e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Te=V("user-plus",Le);function P(a,t){try{console.log(`[analytics] ${a}`,t||{})}catch{}}const Ae=a=>{if(!a)return{isValid:!0};const t=a.replace(/\D/g,"");return[/^9779[6-8]\d{8}$/,/^9[6-8]\d{8}$/,/^977\d{10}$/].some(o=>o.test(t))?{isValid:!0}:{isValid:!1,message:"Please enter a valid Nepal phone number (e.g., +977 98XXXXXXXX or 98XXXXXXXX)"}},Ie=a=>a?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?{isValid:!0}:{isValid:!1,message:"Please enter a valid email address"}:{isValid:!1,message:"Email is required"},Pe=a=>{if(!a)return{isValid:!1,message:"Password is required"};if(a.length<8)return{isValid:!1,message:"Password must be at least 8 characters long"};if(a.length>255)return{isValid:!1,message:"Password must be less than 255 characters"};const t=/[a-zA-Z]/.test(a),n=/\d/.test(a);return!t||!n?{isValid:!1,message:"Password must contain at least one letter and one number"}:{isValid:!0}},Ve=a=>a?a.length<3?{isValid:!1,message:"Username must be at least 3 characters long"}:a.length>50?{isValid:!1,message:"Username must be less than 50 characters"}:/^[a-zA-Z0-9_-]+$/.test(a)?{isValid:!0}:{isValid:!1,message:"Username can only contain letters, numbers, underscores, and hyphens"}:{isValid:!1,message:"Username is required"},z={instagram:a=>{if(!a)return{isValid:!0};const t=a.replace("@",""),n=/^[a-zA-Z0-9._]{1,30}$/.test(t);return{isValid:n,message:n?void 0:"Invalid Instagram username format"}},tiktok:a=>{if(!a)return{isValid:!0};const t=a.replace("@",""),n=/^[a-zA-Z0-9._]{1,24}$/.test(t);return{isValid:n,message:n?void 0:"Invalid TikTok username format"}},facebook:a=>{if(!a)return{isValid:!0};const t=/^[a-zA-Z0-9.]{5,50}$/.test(a);return{isValid:t,message:t?void 0:"Invalid Facebook username format"}},twitter:a=>{if(!a)return{isValid:!0};const t=a.replace("@",""),n=/^[a-zA-Z0-9_]{1,15}$/.test(t);return{isValid:n,message:n?void 0:"Invalid Twitter username format"}}},Be=a=>{const t={},n=Ve(a.username);n.isValid||(t.username=n.message);const c=Ie(a.email);c.isValid||(t.email=c.message);const o=Pe(a.password);if(o.isValid||(t.password=o.message),a.phoneNumber){const d=Ae(a.phoneNumber);d.isValid||(t.phoneNumber=d.message)}if(a.socialMedia){const d=z.instagram(a.socialMedia.instagram);d.isValid||(t.instagram=d.message);const x=z.tiktok(a.socialMedia.tiktok);x.isValid||(t.tiktok=x.message);const h=z.facebook(a.socialMedia.facebook);h.isValid||(t.facebook=h.message);const l=z.twitter(a.socialMedia.twitter);l.isValid||(t.twitter=l.message)}return{isValid:Object.keys(t).length===0,errors:t}},ae={Nepal:[{name:"Kathmandu",lat:27.7172,lng:85.324},{name:"Lalitpur",lat:27.6644,lng:85.3188},{name:"Bhaktapur",lat:27.671,lng:85.4298},{name:"Kirtipur",lat:27.6676,lng:85.2772},{name:"Madhyapur Thimi",lat:27.6806,lng:85.3875},{name:"Tokha",lat:27.753,lng:85.3293},{name:"Budhanilkantha",lat:27.7637,lng:85.3636},{name:"Suryabinayak",lat:27.6395,lng:85.4274},{name:"Banepa",lat:27.6325,lng:85.521},{name:"Dhulikhel",lat:27.6208,lng:85.5561},{name:"Panauti",lat:27.5847,lng:85.522},{name:"Pokhara",lat:28.2096,lng:83.9856},{name:"Lekhnath",lat:28.1769,lng:84.0556},{name:"Waling",lat:27.9833,lng:83.7667},{name:"Baglung",lat:28.2719,lng:83.5897},{name:"Beni",lat:28.3518,lng:83.5678},{name:"Tansen",lat:27.8697,lng:83.546},{name:"Butwal",lat:27.7,lng:83.4486},{name:"Siddharthanagar (Bhairahawa)",lat:27.5079,lng:83.4499},{name:"Parasi",lat:27.517,lng:83.675},{name:"Bharatpur (Chitwan)",lat:27.6768,lng:84.438},{name:"Ratnanagar",lat:27.631,lng:84.4836},{name:"Hetauda",lat:27.428,lng:85.0322},{name:"Birgunj",lat:27.0136,lng:84.877},{name:"Kalaiya",lat:27.03,lng:84.8833},{name:"Jaleshwar",lat:26.647,lng:85.806},{name:"Janakpur",lat:26.7288,lng:85.9245},{name:"Malangwa",lat:26.8566,lng:85.5594},{name:"Siraha",lat:26.6548,lng:86.2079},{name:"Rajbiraj",lat:26.5333,lng:86.75},{name:"Gaighat (Udayapur)",lat:26.7968,lng:86.6913},{name:"Inaruwa",lat:26.6062,lng:87.1476},{name:"Itahari",lat:26.6546,lng:87.2718},{name:"Dharan",lat:26.8147,lng:87.2847},{name:"Biratnagar",lat:26.4525,lng:87.2718},{name:"Damak",lat:26.6617,lng:88.17},{name:"Bhadrapur",lat:26.544,lng:88.0894},{name:"Mechinagar (Kakarbhitta)",lat:26.6431,lng:88.1543},{name:"Ilam",lat:26.9094,lng:87.9282},{name:"Dhankuta",lat:26.9836,lng:87.3313},{name:"Okhaldhunga",lat:27.313,lng:86.499},{name:"Sindhuli",lat:27.2553,lng:85.9711},{name:"Bidur (Nuwakot)",lat:27.906,lng:85.1636},{name:"Gorkha",lat:28.2837,lng:84.739},{name:"Damauli (Tanahun)",lat:27.9871,lng:84.274},{name:"Kawasoti",lat:27.6262,lng:84.1316},{name:"Narayanghat",lat:27.6833,lng:84.4333},{name:"Tulsipur",lat:28.1301,lng:82.297},{name:"Ghorahi",lat:28.0396,lng:82.4889},{name:"Lamahi",lat:27.8667,lng:82.3},{name:"Nepalgunj",lat:28.05,lng:81.6167},{name:"Kohalpur",lat:28.2,lng:81.6167},{name:"Gulariya",lat:28.2,lng:81.3333},{name:"Bardiya (Rajapur)",lat:28.5167,lng:81.2167},{name:"Dhangadhi",lat:28.705,lng:80.601},{name:"Tikapur",lat:28.5186,lng:81.1236},{name:"Bhimdatta (Mahendranagar)",lat:28.963,lng:80.183}],India:[{name:"New Delhi",lat:28.6139,lng:77.209},{name:"Mumbai",lat:19.076,lng:72.8777},{name:"Bengaluru",lat:12.9716,lng:77.5946},{name:"Hyderabad",lat:17.385,lng:78.4867},{name:"Chennai",lat:13.0827,lng:80.2707},{name:"Kolkata",lat:22.5726,lng:88.3639},{name:"Pune",lat:18.5204,lng:73.8567},{name:"Ahmedabad",lat:23.0225,lng:72.5714}],"United States":[{name:"New York, NY",lat:40.7128,lng:-74.006},{name:"Los Angeles, CA",lat:34.0522,lng:-118.2437},{name:"Chicago, IL",lat:41.8781,lng:-87.6298},{name:"San Francisco, CA",lat:37.7749,lng:-122.4194},{name:"Seattle, WA",lat:47.6062,lng:-122.3321},{name:"Austin, TX",lat:30.2672,lng:-97.7431},{name:"Miami, FL",lat:25.7617,lng:-80.1918}],"United Kingdom":[{name:"London",lat:51.5074,lng:-.1278},{name:"Manchester",lat:53.4808,lng:-2.2426},{name:"Birmingham",lat:52.4862,lng:-1.8904},{name:"Edinburgh",lat:55.9533,lng:-3.1883},{name:"Glasgow",lat:55.8642,lng:-4.2518}],Canada:[{name:"Toronto, ON",lat:43.6532,lng:-79.3832},{name:"Vancouver, BC",lat:49.2827,lng:-123.1207},{name:"Montreal, QC",lat:45.5019,lng:-73.5674},{name:"Calgary, AB",lat:51.0447,lng:-114.0719},{name:"Ottawa, ON",lat:45.4215,lng:-75.6972}],Australia:[{name:"Sydney, NSW",lat:-33.8688,lng:151.2093},{name:"Melbourne, VIC",lat:-37.8136,lng:144.9631},{name:"Brisbane, QLD",lat:-27.4698,lng:153.0251},{name:"Perth, WA",lat:-31.9505,lng:115.8605},{name:"Adelaide, SA",lat:-34.9285,lng:138.6007}],Germany:[{name:"Berlin",lat:52.52,lng:13.405},{name:"Munich",lat:48.1351,lng:11.582},{name:"Hamburg",lat:53.5511,lng:9.9937},{name:"Frankfurt",lat:50.1109,lng:8.6821},{name:"Cologne",lat:50.9375,lng:6.9603}],Japan:[{name:"Tokyo",lat:35.6762,lng:139.6503},{name:"Osaka",lat:34.6937,lng:135.5023},{name:"Kyoto",lat:35.0116,lng:135.7681},{name:"Yokohama",lat:35.4437,lng:139.638},{name:"Sapporo",lat:43.0618,lng:141.3545}],Brazil:[{name:"São Paulo",lat:-23.5558,lng:-46.6396},{name:"Rio de Janeiro",lat:-22.9068,lng:-43.1729},{name:"Brasília",lat:-15.8267,lng:-47.9218},{name:"Belo Horizonte",lat:-19.9167,lng:-43.9345},{name:"Porto Alegre",lat:-30.0346,lng:-51.2177}],France:[{name:"Paris",lat:48.8566,lng:2.3522},{name:"Lyon",lat:45.764,lng:4.8357},{name:"Marseille",lat:43.2965,lng:5.3698},{name:"Toulouse",lat:43.6047,lng:1.4442},{name:"Nice",lat:43.7102,lng:7.262}],Spain:[{name:"Madrid",lat:40.4168,lng:-3.7038},{name:"Barcelona",lat:41.3851,lng:2.1734},{name:"Valencia",lat:39.4699,lng:-.3763},{name:"Seville",lat:37.3891,lng:-5.9845},{name:"Bilbao",lat:43.263,lng:-2.935}],Italy:[{name:"Rome",lat:41.9028,lng:12.4964},{name:"Milan",lat:45.4642,lng:9.19},{name:"Naples",lat:40.8518,lng:14.2681},{name:"Turin",lat:45.0703,lng:7.6869},{name:"Florence",lat:43.7696,lng:11.2558}],Mexico:[{name:"Mexico City",lat:19.4326,lng:-99.1332},{name:"Guadalajara",lat:20.6597,lng:-103.3496},{name:"Monterrey",lat:25.6866,lng:-100.3161},{name:"Puebla",lat:19.0414,lng:-98.2063},{name:"Tijuana",lat:32.5149,lng:-117.0382}],"South Africa":[{name:"Johannesburg",lat:-26.2041,lng:28.0473},{name:"Cape Town",lat:-33.9249,lng:18.4241},{name:"Durban",lat:-29.8587,lng:31.0218},{name:"Pretoria",lat:-25.7479,lng:28.2293},{name:"Port Elizabeth",lat:-33.9608,lng:25.6022}],"United Arab Emirates":[{name:"Dubai",lat:25.2048,lng:55.2708},{name:"Abu Dhabi",lat:24.4539,lng:54.3773},{name:"Sharjah",lat:25.3463,lng:55.4209},{name:"Ajman",lat:25.4052,lng:55.5136},{name:"Ras Al Khaimah",lat:25.8007,lng:55.9762}]};function $e(a){const t=ae[a];return t&&t.length?{lat:t[0].lat,lng:t[0].lng}:null}const Ee={"Bagmati Province":[{name:"Kathmandu",lat:27.7172,lng:85.324},{name:"Lalitpur",lat:27.6644,lng:85.3188},{name:"Bhaktapur",lat:27.671,lng:85.4298},{name:"Kirtipur",lat:27.6676,lng:85.2772},{name:"Madhyapur Thimi",lat:27.6806,lng:85.3875},{name:"Tokha",lat:27.753,lng:85.3293},{name:"Budhanilkantha",lat:27.7637,lng:85.3636},{name:"Suryabinayak",lat:27.6395,lng:85.4274},{name:"Banepa",lat:27.6325,lng:85.521},{name:"Dhulikhel",lat:27.6208,lng:85.5561},{name:"Panauti",lat:27.5847,lng:85.522},{name:"Hetauda",lat:27.428,lng:85.0322},{name:"Bidur (Nuwakot)",lat:27.906,lng:85.1636},{name:"Sindhuli",lat:27.2553,lng:85.9711},{name:"Bharatpur (Chitwan)",lat:27.6768,lng:84.438},{name:"Ratnanagar",lat:27.631,lng:84.4836},{name:"Narayanghat",lat:27.6833,lng:84.4333}],"Gandaki Province":[{name:"Pokhara",lat:28.2096,lng:83.9856},{name:"Lekhnath",lat:28.1769,lng:84.0556},{name:"Waling",lat:27.9833,lng:83.7667},{name:"Baglung",lat:28.2719,lng:83.5897},{name:"Beni",lat:28.3518,lng:83.5678},{name:"Gorkha",lat:28.2837,lng:84.739},{name:"Damauli (Tanahun)",lat:27.9871,lng:84.274},{name:"Kawasoti",lat:27.6262,lng:84.1316}],"Lumbini Province":[{name:"Butwal",lat:27.7,lng:83.4486},{name:"Siddharthanagar (Bhairahawa)",lat:27.5079,lng:83.4499},{name:"Parasi",lat:27.517,lng:83.675},{name:"Tansen",lat:27.8697,lng:83.546},{name:"Lamahi",lat:27.8667,lng:82.3},{name:"Ghorahi",lat:28.0396,lng:82.4889},{name:"Tulsipur",lat:28.1301,lng:82.297}],"Madhesh Province":[{name:"Birgunj",lat:27.0136,lng:84.877},{name:"Kalaiya",lat:27.03,lng:84.8833},{name:"Jaleshwar",lat:26.647,lng:85.806},{name:"Janakpur",lat:26.7288,lng:85.9245},{name:"Malangwa",lat:26.8566,lng:85.5594},{name:"Siraha",lat:26.6548,lng:86.2079}],"Koshi Province":[{name:"Itahari",lat:26.6546,lng:87.2718},{name:"Dharan",lat:26.8147,lng:87.2847},{name:"Biratnagar",lat:26.4525,lng:87.2718},{name:"Rajbiraj",lat:26.5333,lng:86.75},{name:"Gaighat (Udayapur)",lat:26.7968,lng:86.6913},{name:"Inaruwa",lat:26.6062,lng:87.1476},{name:"Damak",lat:26.6617,lng:88.17},{name:"Bhadrapur",lat:26.544,lng:88.0894},{name:"Mechinagar (Kakarbhitta)",lat:26.6431,lng:88.1543},{name:"Ilam",lat:26.9094,lng:87.9282},{name:"Dhankuta",lat:26.9836,lng:87.3313},{name:"Okhaldhunga",lat:27.313,lng:86.499}],"Karnali Province":[],"Sudurpashchim Province":[{name:"Dhangadhi",lat:28.705,lng:80.601},{name:"Tikapur",lat:28.5186,lng:81.1236},{name:"Bhimdatta (Mahendranagar)",lat:28.963,lng:80.183}],"Banke/Bardiya (Lumbini-west)":[{name:"Nepalgunj",lat:28.05,lng:81.6167},{name:"Kohalpur",lat:28.2,lng:81.6167},{name:"Gulariya",lat:28.2,lng:81.3333},{name:"Bardiya (Rajapur)",lat:28.5167,lng:81.2167}]},K={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function Z({open:a,onClose:t,onSave:n,enforce:c=!1}){const[o,d]=m.useState(""),[x,h]=m.useState(null),[l,s]=m.useState(!1),[r,g]=m.useState(null),[N,C]=m.useState(null),[f,b]=m.useState(()=>{try{return localStorage.getItem("ps_last_country")||"Nepal"}catch{return"Nepal"}}),[y,k]=m.useState("list"),L=m.useMemo(()=>{const i=ae[f]??[];return[...o.trim()?i.filter(v=>v.name.toLowerCase().includes(o.toLowerCase())):i].sort((v,_)=>v.name.localeCompare(_.name))},[o,f]),S=m.useMemo(()=>f!=="Nepal"?null:Object.entries(Ee).map(([p,v])=>{const _=o.trim()?v.filter(B=>B.name.toLowerCase().includes(o.toLowerCase())):v;return{title:p,items:[..._].sort((B,T)=>B.name.localeCompare(T.name))}}).filter(p=>p.items.length>0),[f,o]);return m.useEffect(()=>{a||(h(null),s(!1),d(""),g(null))},[a]),m.useEffect(()=>{try{localStorage.setItem("ps_last_country",f)}catch{}},[f]),a?e.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/50 p-4",children:e.jsxs(le,{padding:"lg",style:{width:520,maxWidth:"100%",position:"relative"},children:[N&&e.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 rounded-full bg-emerald-500/20 text-emerald-100 ring-1 ring-emerald-400/40 px-3 py-1 text-xs",children:N}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Set your location"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use your current location or pick a city to personalize nearby games and recommendations."}),x&&e.jsx("div",{className:"mb-3 rounded-md bg-red-50 p-2 text-sm text-red-700",children:x}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx(X,{onClick:()=>{if(!navigator.geolocation){h("Geolocation not supported by this browser.");return}s(!0),h(null),navigator.geolocation.getCurrentPosition(i=>{const p={lat:i.coords.latitude,lng:i.coords.longitude,name:"Your Location"};n(p)},()=>{s(!1),h("Location permission is blocked or denied. Click the site info (tune) icon near the URL to reset permissions, or choose a city below.")},{enableHighAccuracy:!0,timeout:8e3})},disabled:l,children:l?"Detecting…":"Use my location"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{className:`px-3 py-2 text-sm rounded-lg border ${y==="list"?"bg-blue-600 text-white border-blue-600":"bg-white"}`,onClick:()=>k("list"),children:"List"}),e.jsx("button",{className:`px-3 py-2 text-sm rounded-lg border ${y==="map"?"bg-blue-600 text-white border-blue-600":"bg-white"}`,onClick:()=>k("map"),children:"Map"})]}),e.jsx("select",{className:"rounded-lg border border-gray-300 px-3 py-2 text-sm",value:f,onChange:i=>{b(i.target.value),g(null),d("")},"aria-label":"Select country",children:ue.map(i=>e.jsxs("option",{value:i.name,children:[i.flag," ",i.name]},i.name))}),e.jsx("input",{className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"Search a city (e.g., Kathmandu)",value:o,onChange:i=>d(i.target.value)})]}),y==="list"?e.jsx("div",{className:"max-h-56 overflow-y-auto rounded-lg border border-gray-200",children:f==="Nepal"&&S?S.length>0?S.map(i=>e.jsxs("div",{children:[e.jsx("div",{className:"sticky top-0 bg-white px-3 py-1 text-xs font-semibold text-gray-700 border-b border-gray-200",children:i.title}),i.items.map(p=>e.jsxs("button",{onClick:()=>g(p),className:`w-full text-left px-3 py-2 text-sm ${(r==null?void 0:r.name)===p.name?"bg-blue-50":"hover:bg-gray-50"}`,children:[p.name," ",e.jsxs("span",{className:"text-gray-500",children:["(",p.lat.toFixed(4),", ",p.lng.toFixed(4),")"]})]},i.title+":"+p.name))]},i.title)):e.jsx("div",{className:"px-3 py-2 text-sm text-gray-600",children:"No matches for your search."}):L.length>0?L.map(i=>e.jsxs("button",{onClick:()=>g(i),className:`w-full text-left px-3 py-2 text-sm ${(r==null?void 0:r.name)===i.name?"bg-blue-50":"hover:bg-gray-50"}`,children:[i.name," ",e.jsxs("span",{className:"text-gray-500",children:["(",i.lat.toFixed(4),", ",i.lng.toFixed(4),")"]})]},i.name)):e.jsxs("div",{className:"px-3 py-2 text-sm text-gray-600",children:["We don't have a curated list for ",f,' yet. Use "Use my location" above, or switch to another country.']})}):e.jsx(Oe,{selected:r,onSelect:i=>{g(i);try{localStorage.setItem("ps_last_pin",JSON.stringify({lat:i.lat,lng:i.lng}))}catch{}},center:()=>{try{const p=localStorage.getItem("ps_last_pin");if(p){const v=JSON.parse(p);return[v.lng,v.lat]}}catch{}const i=$e(f);return i?[i.lng,i.lat]:[85.324,27.7172]}}),r&&e.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[e.jsx("div",{className:"mb-1",children:"Open in:"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("a",{className:"underline text-blue-600",target:"_blank",rel:"noreferrer",href:`https://www.google.com/maps/search/?api=1&query=${r.lat},${r.lng}`,children:"Google Maps"}),e.jsx("a",{className:"underline text-blue-600",target:"_blank",rel:"noreferrer",href:`https://maps.apple.com/?ll=${r.lat},${r.lng}&q=${encodeURIComponent(r.name)}`,children:"Apple Maps"}),e.jsx("a",{className:"underline text-blue-600",target:"_blank",rel:"noreferrer",href:`https://waze.com/ul?ll=${r.lat}%2C${r.lng}&navigate=yes`,children:"Waze"})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[!c&&e.jsx(X,{variant:"outline",onClick:t,children:"Not now"}),e.jsx(X,{onClick:async()=>{if(!r){h("Select a city or use your current location.");return}try{localStorage.setItem("ps_user_location",JSON.stringify(r))}catch{}try{const i=localStorage.getItem("ps_token"),p=(K==null?void 0:K.VITE_API_BASE)||"http://localhost:8080",_=(await fetch(`${p}/profiles/me`,{headers:{Authorization:i?`Bearer ${i}`:""}})).headers.get("etag")||void 0;await fetch(`${p}/profiles/me`,{method:"PUT",headers:{"Content-Type":"application/json",..._?{"If-Match":_}:{},Authorization:i?`Bearer ${i}`:""},body:JSON.stringify({location:r.name,latitude:r.lat,longitude:r.lng})})}catch{}C("Location set, showing games near you"),setTimeout(()=>{C(null),n(r)},1200)},children:"Save"})]})]})}):null}function Oe({selected:a,onSelect:t,center:n}){const c=I.useRef(null),o=I.useRef(null),d=I.useRef(null);return m.useEffect(()=>{const x=window.maplibregl;if(!c.current||!x||d.current)return;const h=a?[a.lng,a.lat]:n(),l=new x.Map({container:c.current,style:"https://demotiles.maplibre.org/style.json",center:h,zoom:a?11:6});d.current=l;const s=(r,g)=>{o.current?o.current.setLngLat([r,g]):(o.current=new x.Marker({draggable:!0}).setLngLat([r,g]).addTo(l),o.current.on("dragend",()=>{const N=o.current.getLngLat();t({lat:N.lat,lng:N.lng,name:"Pinned Location"})})),t({lat:g,lng:r,name:"Pinned Location"})};return l.on("click",r=>{s(r.lngLat.lng,r.lngLat.lat)}),a&&s(a.lng,a.lat),()=>{try{l.remove()}catch{}}},[a,t,n]),m.useEffect(()=>{if(!(!d.current||a))try{const x=n();d.current.setCenter(x)}catch{}},[n,a]),e.jsxs("div",{children:[e.jsx("div",{ref:c,style:{height:300,borderRadius:12,overflow:"hidden",border:"1px solid #e5e7eb"}}),e.jsx("div",{className:"text-xs text-gray-600 mt-2",children:"Click on the map to drop a pin. Drag the pin to refine."})]})}function te({id:a,label:t,value:n,onChange:c,placeholder:o,error:d,helperText:x,showStrength:h,onGenerate:l}){const[s,r]=I.useState(!1),g=I.useMemo(()=>{if(!h)return 0;let f=0;return n.length>=8&&f++,/[A-Z]/.test(n)&&f++,/[a-z]/.test(n)&&f++,/[0-9]/.test(n)&&f++,/[^A-Za-z0-9]/.test(n)&&f++,f},[n,h]),N="block w-full rounded-xl bg-white/90 backdrop-blur px-4 py-3 text-slate-900 placeholder-slate-400 shadow-sm ring-1 ring-inset ring-white/30 focus:outline-none",C=d?" ring-2 ring-red-500":"";return e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-white/90",htmlFor:a,children:t}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx("div",{className:"rounded-xl bg-white/10 p-2 ring-1 ring-inset ring-white/10",children:e.jsx(re,{className:"h-4 w-4"})}),e.jsx("input",{id:a,name:a,type:s?"text":"password",placeholder:o,value:n,onChange:c,className:N+C}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"rounded-xl bg-white/10 p-2 ring-1 ring-inset ring-white/10 hover:bg-white/20 transition-colors",children:s?e.jsx(ie,{className:"h-4 w-4"}):e.jsx(oe,{className:"h-4 w-4"})}),l&&e.jsx("button",{type:"button",onClick:l,className:"rounded-xl bg-white/10 p-2 ring-1 ring-inset ring-white/10 hover:bg-white/20 transition-colors",title:"Suggest strong password",children:e.jsx(Me,{className:"h-4 w-4"})})]}),d?e.jsx("p",{className:"mt-1 text-sm text-red-300/90",children:d}):x?e.jsx("p",{className:"mt-1 text-sm text-white/70",children:x}):null,h&&n&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex gap-1",children:Array.from({length:5},(f,b)=>e.jsx("div",{className:`h-1 flex-1 rounded ${b<g?g<3?"bg-red-500":g<4?"bg-yellow-500":"bg-green-500":"bg-gray-300"}`},b))}),e.jsx("p",{className:"text-xs text-white/70 mt-1",children:g<3?"Weak password":g<4?"Good password":"Strong password"})]})]})}const Re={},$="block w-full rounded-xl bg-white/90 backdrop-blur px-4 py-3 text-slate-900 placeholder-slate-400 shadow-sm ring-1 ring-inset ring-white/30 focus:outline-none focus:ring-2 focus:ring-nepal-crimson transition-all duration-300 focus:shadow-lg focus:shadow-nepal-crimson/20",E="text-sm font-medium text-white/90",A="inline-flex items-center gap-2 rounded-full px-6 py-3 text-sm font-bold shadow-lg ring-1 ring-white/20 transition-all duration-300 active:translate-y-[1px] hover:scale-105",Fe="inline-flex items-center gap-2 rounded-full px-4 py-2 text-xs font-semibold text-white/80 hover:text-white ring-1 ring-white/20 hover:ring-white/40 transition-all duration-300",Ue="flex items-center justify-center gap-2 text-white/60 text-lg my-4";function ze({countdownTo:a}){const t=u=>{try{history.pushState({},"",u),window.dispatchEvent(new PopStateEvent("popstate"))}catch{window.location.href=u}},{login:n,register:c,socialLogin:o,isLoading:d,setToken:x,refreshProfile:h}=Q(),[l,s]=m.useState("signin"),[r,g]=m.useState(null),[N,C]=m.useState("en"),[f,b]=m.useState(!1),[y,k]=m.useState(!1),L=ce(),[S,i]=m.useState({open:!1}),[p,v]=m.useState(0),_=I.useRef(0),[B,T]=m.useState(!1);m.useEffect(()=>{if(L.search.includes("reset=1")){k(!0);const u=setTimeout(()=>k(!1),3500);return()=>clearTimeout(u)}},[L.search]);const M={en:{title:"Ready to step onto the field?",subtitle:"Log in to catch who's playing today, or claim your spot by creating an account. Your team is waiting in Nepal's sports community.",signIn:"Sign in & Play",joinLeague:"Join the League",backInGame:"Back in the game?",logInSubtitle:"Log in to see nearby games and teammates.",fillOutSubtitle:"Fill this out and step onto the field.",newHere:"New here? Join the league",forgotPassword:"Forgot password",alreadyRoster:"Already on the roster? Sign in",protectedBy:"Protected by Rate Limits",playFair:"Play Fair",secureAuth:"Secure Auth"},ne:{title:"खेल मैदानमा आउन तयार हुनुहुन्छ?",subtitle:"आज कसले खेलिरहेको छ हेर्न लगइन गर्नुहोस्, वा खाता बनाएर आफ्नो स्थान दाबी गर्नुहोस्। तपाईंको टोली नेपालको खेल समुदायमा पर्खिरहेको छ।",signIn:"लगइन गर्नुहोस् र खेल्नुहोस्",joinLeague:"लीगमा सामेल हुनुहोस्",backInGame:"खेलमा फर्किए?",logInSubtitle:"नजिकैका खेलहरू र साथीहरू हेर्न लगइन गर्नुहोस्।",fillOutSubtitle:"यो भरेर मैदानमा आउनुहोस्।",newHere:"नयाँ? लीगमा सामेल हुनुहोस्",forgotPassword:"पासवर्ड बिर्सिए?",alreadyRoster:"पहिले नै रोस्टरमा? लगइन गर्नुहोस्",protectedBy:"दर सीमा द्वारा सुरक्षित",playFair:"निष्पक्ष खेल",secureAuth:"सुरक्षित प्रमाणीकरण"}}[N];return e.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-nepal-blue via-slate-900 to-nepal-crimson text-white",children:[y&&e.jsx("div",{className:"absolute inset-x-0 top-4 z-50 flex justify-center",children:e.jsx("div",{className:"rounded-full bg-emerald-500/20 px-4 py-2 text-emerald-200 ring-1 ring-emerald-400/30 shadow",children:"Password updated. Welcome back — please sign in."})}),e.jsx(Ge,{}),e.jsx("div",{className:"absolute top-4 right-4 z-20",children:e.jsxs("div",{className:"flex bg-white/10 rounded-full p-1 backdrop-blur",children:[e.jsx("button",{onClick:()=>C("en"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-all ${N==="en"?"bg-nepal-crimson text-white":"text-white/70 hover:text-white"}`,children:"EN"}),e.jsx("button",{onClick:()=>C("ne"),className:`px-3 py-1 text-xs font-semibold rounded-full transition-all ${N==="ne"?"bg-nepal-crimson text-white":"text-white/70 hover:text-white"}`,children:"ने"})]})}),e.jsxs("div",{className:"pointer-events-none absolute inset-x-0 top-0 flex items-center justify-between px-6 pt-6",children:[e.jsxs("div",{className:"pointer-events-auto select-none rounded-full bg-white/5 px-4 py-1.5 text-xs text-white/80 ring-1 ring-white/10 backdrop-blur",children:[e.jsx("span",{className:"mr-2 inline-flex h-2 w-2 animate-pulse rounded-full bg-nepal-crimson"}),"खेल मिलन - Stadium tunnel ready"]}),a&&e.jsxs("div",{className:"pointer-events-auto select-none rounded-full bg-white/5 px-4 py-1.5 text-xs text-white/80 ring-1 ring-white/10 backdrop-blur",children:["Next kickoff in ",e.jsx("span",{className:"ml-2 font-mono text-white",children:"00:00:00"})]})]}),e.jsxs("div",{className:"relative z-10 mx-auto grid min-h-screen max-w-6xl grid-cols-1 items-center px-6 md:grid-cols-2 md:gap-10",children:[S.open&&e.jsx(De,{challenge:S.challenge,methods:S.methods||["TOTP"],onClose:()=>i({open:!1}),onVerify:async u=>{try{const j=await me("/auth/mfa/verify",{method:"POST",body:JSON.stringify({challenge:S.challenge,code:u})},!1);if(j!=null&&j.accessToken){const F=j.accessToken,O=j.refreshToken;x(F),O&&localStorage.setItem("ps_refresh_token",O),await h(),i({open:!1}),t("/dashboard")}}catch{}}}),e.jsxs("div",{className:"hidden md:block",children:[e.jsx("h1",{className:"text-5xl font-black tracking-tight md:text-6xl leading-tight",children:M.title.split(" ").map((u,j)=>u==="step"||u==="onto"||u==="field"?e.jsxs("span",{className:"text-nepal-crimson animate-pulse",children:[" ",u]},j):e.jsxs("span",{children:[" ",u]},j))}),e.jsx("p",{className:"mt-6 max-w-md text-white/70 text-lg leading-relaxed",children:M.subtitle}),e.jsxs("div",{className:Ue,children:[e.jsx("span",{children:"⚽"}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/30 to-transparent flex-1"}),e.jsx("span",{children:"🏀"}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/30 to-transparent flex-1"}),e.jsx("span",{children:"🏐"})]}),e.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-center gap-4",children:[e.jsxs("button",{onClick:()=>s("signin"),className:`${A} text-lg px-8 py-4 ${l==="signin"?"bg-nepal-crimson text-white shadow-lg shadow-nepal-crimson/30":"bg-white/10 text-white hover:bg-white/20"}`,children:[e.jsx(ke,{className:"h-5 w-5"})," ",M.signIn]}),e.jsxs("button",{onClick:()=>s("register"),className:`${A} text-lg px-8 py-4 ${l==="register"?"bg-nepal-crimson text-white shadow-lg shadow-nepal-crimson/30":"bg-white/10 text-white hover:bg-white/20"}`,children:[e.jsx(de,{className:"h-5 w-5"})," ",M.joinLeague]})]})]}),e.jsx("div",{className:"mx-auto w-full max-w-md",children:l==="register"?e.jsxs(e.Fragment,{children:[e.jsx(he,{onComplete:()=>{try{if(!!!localStorage.getItem("ps_user_location")){T(!0);return}}catch{}t("/dashboard?welcome=1")},onBack:()=>s("signin")}),e.jsx(Z,{open:B,onClose:()=>T(!1),onSave:u=>{try{localStorage.setItem("ps_user_location",JSON.stringify(u))}catch{}T(!1),t("/dashboard?welcome=1")},enforce:!0})]}):l==="signin"?e.jsxs(Y,{title:M.backInGame,subtitle:M.logInSubtitle,badge:"Game Entrance",children:[e.jsx(Xe,{isLoading:d||p>0,cooldown:p,totalCooldown:_.current||60,onJoin:()=>s("register"),onSubmit:async u=>{var j,F,O,J;g(null);try{P("login_attempt",{username:u.username}),await n(u);try{if(!!!localStorage.getItem("ps_user_location")){T(!0);return}}catch{}P("login_success",{username:u.username}),b(!0),setTimeout(()=>b(!1),3e3)}catch(w){if(w instanceof ge){const U=w.status,q=(j=w.body)==null?void 0:j.code;if(q==="mfa_required"){P("mfa_prompted",{username:u.username}),i({open:!0,challenge:(F=w.body)==null?void 0:F.challenge,methods:((O=w.body)==null?void 0:O.methods)||["TOTP"]});return}if(U===401)g("That’s an offside pass, try again! ⚽");else if(U===429){const D=typeof w.retryAfterSeconds=="number"&&w.retryAfterSeconds>0?w.retryAfterSeconds:60;v(D),_.current=D,g(`Time-out from the coach. Try again in ${D}s.`);const se=setInterval(()=>{v(G=>G<=1?(clearInterval(se),g(null),0):(g(`Time-out from the coach. Try again in ${G-1}s.`),G-1))},1e3)}else U>=500?g("Locker room maintenance. Please try later."):g(((J=w.body)==null?void 0:J.message)||"Couldn’t sign in—check your details.");P("login_failure",{username:u.username,status:U,code:q})}else typeof(w==null?void 0:w.message)=="string"?(g(w.message),P("login_failure",{username:u.username,message:w.message})):(g("Network misplay—check your connection and try again."),P("login_failure",{username:u.username,network:!0}))}}}),r&&e.jsx("p",{className:"mt-3 text-sm text-nepal-crimson font-semibold",children:r})]}):e.jsxs(Y,{title:M.playerBadge,subtitle:M.fillOutSubtitle,badge:"Game Entrance",children:[e.jsx(Ke,{isLoading:d,onSubmit:async u=>{g(null);try{await c(u),b(!0),setTimeout(()=>b(!1),3e3)}catch(j){g((j==null?void 0:j.message)||"Assistant coach says: check your details! 🏆")}}}),r&&e.jsx("p",{className:"mt-3 text-sm text-nepal-crimson font-semibold",children:r}),e.jsx("div",{className:"mt-6 flex items-center justify-between",children:e.jsx("button",{className:Fe,onClick:()=>s("signin"),children:M.alreadyRoster})})]})})]}),e.jsx(Z,{open:B,onClose:()=>T(!1),onSave:u=>{try{localStorage.setItem("ps_user_location",JSON.stringify(u))}catch{}T(!1),t("/dashboard?welcome=1")}}),f&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center animate-bounce",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),e.jsx("h3",{className:"text-2xl font-bold text-nepal-crimson mb-2",children:"You're drafted to the team!"}),e.jsx("p",{className:"text-gray-600",children:"Welcome to Nepal's sports community!"})]})}),e.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 z-20",children:e.jsx("div",{className:"mx-auto max-w-6xl px-4 pb-4",children:e.jsx("div",{className:"pointer-events-auto w-full rounded-2xl bg-black/30 backdrop-blur-md ring-1 ring-white/10",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 px-3 py-2 text-[11px] text-white/90",children:[e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-white/5 px-3 py-1 ring-1 ring-white/10",children:[e.jsx("span",{children:"🔒"}),e.jsx("span",{className:"tracking-wide",children:"Secure"})]}),e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-white/5 px-3 py-1 ring-1 ring-white/10",children:[e.jsx("span",{children:"🎯"}),e.jsx("span",{className:"tracking-wide",children:"Fair Play"})]}),e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-white/5 px-3 py-1 ring-1 ring-white/10",children:[e.jsx("span",{children:"⚡"}),e.jsx("span",{className:"tracking-wide",children:"Fast"})]}),e.jsxs("div",{className:"inline-flex items-center gap-1.5 rounded-full bg-white/5 px-3 py-1 ring-1 ring-white/10",children:[e.jsx("span",{children:"🛡️"}),e.jsx("span",{className:"tracking-wide",children:"Protected"})]})]})})})})]})}function De({challenge:a,methods:t,onClose:n,onVerify:c}){const[o,d]=m.useState(""),[x,h]=m.useState(null),[l,s]=m.useState(!1);return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4",children:e.jsxs("div",{className:"w-full max-w-sm rounded-2xl bg-white/10 p-5 text-white ring-1 ring-white/20 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"MFA Required"}),e.jsx("p",{className:"mt-1 text-sm text-white/70",children:"Enter the 6-digit code from your authenticator app."}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("input",{inputMode:"numeric",pattern:"[0-9]*",maxLength:8,placeholder:"123456",value:o,onChange:r=>d(r.target.value),className:"flex-1 rounded-xl bg-white/90 px-4 py-3 text-slate-900 placeholder-slate-400 shadow-sm ring-1 ring-inset ring-white/30 focus:outline-none focus:ring-2 focus:ring-emerald-400"}),e.jsx("button",{onClick:async()=>{if(h(null),!o.trim()){h("Code is required");return}s(!0);try{await c(o.trim())}catch(r){h((r==null?void 0:r.message)||"Invalid code")}finally{s(!1)}},disabled:l,className:"rounded-xl bg-emerald-400 px-4 py-2 font-semibold text-slate-900 ring-1 ring-white/20 hover:bg-emerald-300 disabled:opacity-50",children:l?"Verifying…":"Verify"})]}),x&&e.jsx("p",{className:"mt-2 text-sm text-red-300",children:x}),e.jsx("div",{className:"mt-4 text-right",children:e.jsx("button",{onClick:n,className:"text-xs text-white/80 underline underline-offset-2 hover:text-white",children:"Cancel"})})]})})}function Ge(){return e.jsxs("div",{"aria-hidden":!0,className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(220,20,60,0.4),rgba(0,56,147,0.3),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[conic-gradient(from_0deg,rgba(220,20,60,0.2),transparent_45%,rgba(0,56,147,0.2),transparent_90%,rgba(220,20,60,0.2))] animate-spin",style:{animationDuration:"20s"}}),e.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:Array.from({length:8},(a,t)=>e.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 rounded-full border border-white/30 animate-pulse",style:{width:150+t*100,height:150+t*100,left:0,top:0,boxShadow:t%2===0?"0 0 60px rgba(220,20,60,0.3), 0 0 120px rgba(220,20,60,0.1)":"0 0 60px rgba(0,56,147,0.3), 0 0 120px rgba(0,56,147,0.1)",animationDelay:`${t*.5}s`,animationDuration:"3s"}},t))}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_bottom,transparent,rgba(0,0,0,0.7))]"}),e.jsx("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(90deg,transparent,transparent_98px,rgba(255,255,255,0.05)_100px)] animate-pulse"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:["⚽","🏀","🏐","🎾"].map((a,t)=>e.jsx("div",{className:"absolute text-4xl opacity-10 animate-bounce",style:{left:`${20+t*15}%`,top:`${30+t*10}%`,animationDelay:`${t*3}s`,animationDuration:"8s"},children:a},t))})]})}function Y({title:a,subtitle:t,badge:n,children:c}){return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-2xl backdrop-blur-xl ring-1 ring-white/10 hover:shadow-3xl hover:shadow-nepal-crimson/10 transition-all duration-500",children:[n&&e.jsxs("div",{className:"mb-4 inline-flex items-center gap-2 rounded-full bg-nepal-crimson/20 px-3 py-1 text-xs font-semibold text-nepal-crimson ring-1 ring-nepal-crimson/30",children:[e.jsx(Ce,{className:"h-3.5 w-3.5"})," ",n]}),e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:a}),e.jsx("p",{className:"mt-1 text-sm text-white/70",children:t}),e.jsx("div",{className:"mt-6",children:c})]}),e.jsx("div",{className:"absolute -inset-x-6 -bottom-8 h-24 rounded-full bg-nepal-crimson/10 blur-2xl"})]})}function Xe({onSubmit:a,isLoading:t,onJoin:n,cooldown:c,totalCooldown:o=60}){const[d,x]=m.useState(""),[h,l]=m.useState(""),[s,r]=m.useState({}),g=I.useRef(null),N=I.useRef(null);m.useEffect(()=>{if(typeof c=="number"&&c===0){const b=document.getElementById("username");b&&b.focus()}},[c]);const C=async b=>{var S,i;b.preventDefault(),r({});const y={},k=d.trim(),L=h.trim();if(k||(y.username="Username is required to enter the field! ⚽"),k&&k.includes("@")&&(/.+@.+\..+/.test(k)||(y.username="That email doesn’t look right. Try again.")),L||(y.password="Password is required to secure your account! 🛡️"),Object.keys(y).length>0){r(y),y.username?(S=g.current)==null||S.focus():y.password&&((i=N.current)==null||i.focus());return}await a({username:k,password:L})},f=()=>{x("demo@example.com"),l("password123"),r({}),P("login_demo_prefill")};return e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsx(R,{id:"username",label:"Username or Email",placeholder:"demo@example.com or demo123",value:d,onChange:b=>{x(b.target.value),s.username&&r(y=>({...y,username:void 0}))},autoComplete:"username",icon:e.jsx(ee,{className:"h-4 w-4"}),error:s.username||null}),e.jsxs("div",{className:"-mt-2 mb-2 flex items-center justify-between text-xs",children:[e.jsx(H,{to:"/forgot-username",className:"text-white/80 hover:text-white underline underline-offset-2",children:"Forgot username?"}),e.jsx(H,{to:"/forgot",className:"text-white/80 hover:text-white underline underline-offset-2",children:"Forgot password?"})]}),e.jsx(te,{id:"password",label:"Password",placeholder:"password123",value:h,onChange:b=>{l(b.target.value),s.password&&r(y=>({...y,password:void 0}))},error:s.password||null}),e.jsxs("div",{className:"pt-2 flex gap-3 items-center",children:[e.jsxs("button",{type:"submit",disabled:t,className:"btn btn-primary flex-1 relative",children:[t?"Signing in…":"⚽ Step onto the Field",typeof c=="number"&&c>0&&e.jsxs("span",{className:"absolute -top-2 -right-2 grid place-items-center",style:{width:28,height:28},title:`Rate limited — try again after ${c}s`,"aria-label":`Rate limited — try again after ${c} seconds`,children:[e.jsxs("svg",{viewBox:"0 0 36 36",style:{position:"absolute",transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:"18",cy:"18",r:"16",stroke:"#fde2e2",strokeWidth:"4",fill:"none"}),e.jsx("circle",{cx:"18",cy:"18",r:"16",stroke:"#dc143c",strokeWidth:"4",fill:"none",strokeDasharray:`${c/(o||60)*100} 100`})]}),e.jsxs("span",{className:"rounded-full bg-white text-nepal-crimson text-[11px] font-bold px-1.5 py-0.5 ring-2 ring-nepal-crimson/30",children:[c,"s"]})]})]}),e.jsx("button",{type:"button",onClick:()=>n&&n(),className:"btn btn-outline flex-1",children:"Join the League"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"button",onClick:f,className:"btn btn-gradient w-full",children:"🎮 Try a Demo Match"})}),e.jsx(ne,{})]})}function Ke({onSubmit:a,isLoading:t}){const[n,c]=m.useState({username:"",password:"",email:"",firstName:"",lastName:"",gender:"",phoneNumber:"",preferredSport:"",location:"",socialMedia:{instagram:"",tiktok:"",facebook:"",twitter:""}}),[o,d]=m.useState({});(l=>{let s=0;return l.length>=8&&s++,/[A-Z]/.test(l)&&s++,/[a-z]/.test(l)&&s++,/[0-9]/.test(l)&&s++,/[^A-Za-z0-9]/.test(l)&&s++,s})(n.password);const h=async l=>{l.preventDefault(),d({});const s=Be(n);if(!s.isValid){d(s.errors);return}await a(n)};return e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx(R,{id:"firstName",label:"First Name",placeholder:"Bimesh",value:n.firstName,onChange:l=>c(s=>({...s,firstName:l.target.value})),icon:e.jsx(W,{className:"h-4 w-4"}),error:o.firstName||null}),e.jsx(R,{id:"lastName",label:"Last Name",placeholder:"Shrestha",value:n.lastName,onChange:l=>c(s=>({...s,lastName:l.target.value}))})]}),e.jsx(R,{id:"username",label:"Username",placeholder:"bimesh123",value:n.username,onChange:l=>c(s=>({...s,username:l.target.value})),icon:e.jsx(W,{className:"h-4 w-4"}),error:o.username||null}),e.jsx(R,{id:"email",label:"Email",type:"email",placeholder:"you@club.com",value:n.email,onChange:l=>c(s=>({...s,email:l.target.value})),icon:e.jsx(ee,{className:"h-4 w-4"}),error:o.email||null}),e.jsx(te,{id:"password",label:"Create a strong password",placeholder:"••••••••",value:n.password,onChange:l=>c(s=>({...s,password:l.target.value})),showStrength:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:E,htmlFor:"gender",children:"Gender"}),e.jsxs("select",{id:"gender",value:n.gender,onChange:l=>c(s=>({...s,gender:l.target.value})),className:$,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"MALE",children:"Male"}),e.jsx("option",{value:"FEMALE",children:"Female"}),e.jsx("option",{value:"OTHER",children:"Other"}),e.jsx("option",{value:"PREFER_NOT_TO_SAY",children:"Prefer not to say"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:E,htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",placeholder:"+977 98XXXXXXXX",className:`${$} ${o.phoneNumber?"ring-2 ring-nepal-crimson":""}`,value:n.phoneNumber,onChange:l=>c(s=>({...s,phoneNumber:l.target.value}))}),o.phoneNumber&&e.jsx("p",{className:"mt-1 text-xs text-nepal-crimson",children:o.phoneNumber})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:E,htmlFor:"preferredSport",children:"Preferred Sport"}),e.jsxs("select",{id:"preferredSport",value:n.preferredSport,onChange:l=>c(s=>({...s,preferredSport:l.target.value})),className:$,children:[e.jsx("option",{value:"",children:"Select Sport"}),e.jsx("option",{value:"Futsal",children:"⚽ Futsal"}),e.jsx("option",{value:"Basketball",children:"🏀 Basketball"}),e.jsx("option",{value:"Volleyball",children:"🏐 Volleyball"}),e.jsx("option",{value:"Cricket",children:"🏏 Cricket"}),e.jsx("option",{value:"Football",children:"⚽ Football"}),e.jsx("option",{value:"Badminton",children:"🏸 Badminton"}),e.jsx("option",{value:"Tennis",children:"🎾 Tennis"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:E,htmlFor:"location",children:"Location"}),e.jsx("input",{id:"location",name:"location",placeholder:"Kathmandu, Nepal",className:$,value:n.location,onChange:l=>c(s=>({...s,location:l.target.value}))})]})]}),e.jsxs("div",{className:"rounded-xl bg-white/5 p-4 ring-1 ring-white/10",children:[e.jsx("h3",{className:"text-sm font-medium text-white/90 mb-3",children:"Social Media (Optional)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:E,htmlFor:"instagram",children:"Instagram"}),e.jsx("input",{id:"instagram",name:"instagram",placeholder:"@username",className:`${$} ${o.instagram?"ring-2 ring-nepal-crimson":""}`,value:n.socialMedia.instagram,onChange:l=>c(s=>({...s,socialMedia:{...s.socialMedia,instagram:l.target.value}}))}),o.instagram&&e.jsx("p",{className:"mt-1 text-xs text-nepal-crimson",children:o.instagram})]}),e.jsxs("div",{children:[e.jsx("label",{className:E,htmlFor:"tiktok",children:"TikTok"}),e.jsx("input",{id:"tiktok",name:"tiktok",placeholder:"@username",className:`${$} ${o.tiktok?"ring-2 ring-nepal-crimson":""}`,value:n.socialMedia.tiktok,onChange:l=>c(s=>({...s,socialMedia:{...s.socialMedia,tiktok:l.target.value}}))}),o.tiktok&&e.jsx("p",{className:"mt-1 text-xs text-nepal-crimson",children:o.tiktok})]})]})]}),e.jsx("div",{className:"pt-2",children:e.jsxs("button",{type:"submit",disabled:t,className:`${A} w-full justify-center bg-nepal-crimson text-white hover:bg-nepal-crimson/90 focus:ring-nepal-crimson/50 text-lg py-4`,children:[e.jsx(Te,{className:"h-5 w-5"})," ",t?"Creating badge…":"Join the league"]})}),e.jsx(ne,{})]})}function ne(){const{socialLogin:a}=Q(),t=Re||{},n={google:t.VITE_SOCIAL_GOOGLE!=="false",apple:t.VITE_SOCIAL_APPLE!=="false",facebook:t.VITE_SOCIAL_FACEBOOK!=="false",instagram:t.VITE_SOCIAL_INSTAGRAM!=="false",tiktok:t.VITE_SOCIAL_TIKTOK!=="false"};return e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"mb-3 text-center text-xs uppercase tracking-wider text-white/50",children:"or continue with"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.google&&e.jsxs("button",{className:`${A} bg-white text-slate-900 hover:bg-slate-100 text-xs hover:animate-bounce`,onClick:()=>a("google"),children:[e.jsx(je,{className:"h-3 w-3"})," Google"]}),n.apple&&e.jsxs("button",{className:`${A} bg-white text-slate-900 hover:bg-slate-100 text-xs hover:animate-bounce`,onClick:()=>a("apple"),children:[e.jsx(be,{className:"h-3 w-3"})," Apple"]}),n.facebook&&e.jsxs("button",{className:`${A} bg-blue-600 text-white hover:bg-blue-700 text-xs hover:animate-bounce`,onClick:()=>a("facebook"),children:[e.jsx(Ne,{className:"h-3 w-3"})," Facebook"]}),n.instagram&&e.jsxs("button",{className:`${A} bg-pink-500 text-white hover:bg-pink-600 text-xs hover:animate-bounce`,onClick:()=>a("instagram"),children:[e.jsx(xe,{className:"h-3 w-3"})," Instagram"]}),n.tiktok&&e.jsxs("button",{className:`${A} bg-black text-white hover:bg-gray-800 text-xs col-span-2 hover:animate-bounce`,onClick:()=>a("tiktok"),children:[e.jsx(pe,{className:"h-3 w-3"})," TikTok"]})]})]})}function Ze(){return e.jsx(ze,{})}export{Ze as default};
