var De=Object.defineProperty;var Fe=(t,a,s)=>a in t?De(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var H=(t,a,s)=>Fe(t,typeof a!="symbol"?a+"":a,s);import{c as T,r as d,u as pe,a as Be,j as e,G as B,M as D,B as z,b as Y,X as J,d as ve,e as ge,f as ze,g as $e,h as L,i as v,C as f,U as O,T as q,P as be,k as ee,S as te,W as Oe,l as Pe,E as Ae,m as Te,Z as Ge,n as Ve,o as U,R as Ue,p as V,N as He,q as le,O as Ye}from"./index-5gA1ZPbL.js";import{U as ae,C as re,a as W}from"./user-BxzEEfUu.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ce=T("activity",We);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],qe=T("award",Ke);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ne=T("calendar",Xe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Qe=T("car",Je);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Me=T("chart-column",Ze);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],tt=T("check-check",et);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Z=T("chevron-right",st);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oe=T("clock",at);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],nt=T("coffee",rt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],de=T("copy",it);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ct=T("crown",lt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Re=T("download",ot);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],mt=T("droplets",dt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ht=T("ellipsis-vertical",xt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],pt=T("external-link",ut);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ee=T("funnel",vt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bt=T("globe",gt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jt=T("heart",ft);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Nt=T("house",yt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],kt=T("list",wt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],fe=T("map",Ct);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Pt=T("menu",St);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Tt=T("monitor",At);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],me=T("moon",Mt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],je=T("pen-line",Rt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],K=T("plus",Et);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],we=T("qr-code",It);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_t=T("save",Lt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ye=T("search",Dt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],X=T("settings",Ft);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ne=T("share-2",Bt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ie=T("smartphone",zt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ie=T("star",$t);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xe=T("sun",Ot);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Vt=T("thermometer",Gt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Le=T("trash-2",Ut);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],he=T("trending-up",Ht);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ue=T("triangle-alert",Yt),Wt={defaultTheme:"system",enableSystemDetection:!0,enableTransition:!0,transitionDuration:300},Kt=(t={})=>{const a={...Wt,...t},[s,l]=d.useState(()=>localStorage.getItem("theme")||a.defaultTheme),[r,n]=d.useState("light"),[o,i]=d.useState(!1),m=s==="system"?r:s,u=d.useCallback(()=>a.enableSystemDetection&&typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",[a.enableSystemDetection]),j=d.useCallback(x=>{a.enableTransition&&i(!0);const c=document.documentElement;c.classList.remove("light","dark"),c.classList.add(x),c.setAttribute("data-theme",x);const N=document.querySelector('meta[name="theme-color"]');if(N){const h=x==="dark"?"#1a1a1a":"#ffffff";N.setAttribute("content",h)}const S={light:{"--bg-primary":"#ffffff","--bg-secondary":"#f8f9fa","--bg-surface":"#ffffff","--text-primary":"#1a1a1a","--text-secondary":"#6b7280","--border-color":"#e5e7eb"},dark:{"--bg-primary":"#1a1a1a","--bg-secondary":"#2d2d2d","--bg-surface":"#2d2d2d","--text-primary":"#ffffff","--text-secondary":"#9ca3af","--border-color":"#374151"}}[x];Object.entries(S).forEach(([h,P])=>{c.style.setProperty(h,P)}),a.enableTransition&&setTimeout(()=>{i(!1)},a.transitionDuration)},[a.enableTransition,a.transitionDuration]),p=d.useCallback(x=>{const c=x.matches?"dark":"light";n(c),s==="system"&&j(c)},[s,j]),y=d.useCallback(x=>{l(x),localStorage.setItem("theme",x),j(x==="system"?r:x)},[r,j]),A=d.useCallback(()=>{y(m==="light"?"dark":"light")},[m,y]);d.useEffect(()=>{const x=u();if(n(x),j(s==="system"?x:s),a.enableSystemDetection&&window.matchMedia){const c=window.matchMedia("(prefers-color-scheme: dark)");return c.addEventListener("change",p),()=>{c.removeEventListener("change",p)}}},[s,u,j,p,a.enableSystemDetection]),d.useEffect(()=>{const x=()=>{if(!document.hidden&&s==="system"){const c=u();c!==r&&(n(c),j(c))}};return document.addEventListener("visibilitychange",x),()=>{document.removeEventListener("visibilitychange",x)}},[s,r,u,j]);const w=d.useCallback(()=>{switch(s){case"light":return"Light";case"dark":return"Dark";case"system":return`System (${r})`;default:return"System"}},[s,r]);return{theme:s,effectiveTheme:m,systemTheme:r,isDark:m==="dark",isLight:m==="light",isSystemTheme:s==="system",isTransitioning:o,setTheme:y,toggleTheme:A,getThemeDisplayName:w}},qt={swipeThreshold:50,pullToRefreshThreshold:80,tabBarHeight:60},Xt=(t={},a)=>{const s=pe(),l={...qt,...t},r=d.useRef(null),n=d.useRef(null),o=d.useRef(!1),i=d.useRef(0),m=["/dashboard","/dashboard/games","/dashboard/venues","/dashboard/profile","/dashboard/notifications","/dashboard/settings"],u=w=>m.findIndex(b=>w.startsWith(b)),j=d.useCallback(w=>{const b=window.location.pathname,k=u(b);if(k===-1)return;let g;w==="left"?(g=k+1,g>=m.length&&(g=0)):(g=k-1,g<0&&(g=m.length-1)),s(m[g])},[s]),p=d.useCallback(w=>{const b=w.touches[0];r.current={x:b.clientX,y:b.clientY,time:Date.now()},n.current=null,i.current=0},[]),y=d.useCallback(w=>{if(!r.current)return;const b=w.touches[0];n.current={x:b.clientX,y:b.clientY};const k=b.clientX-r.current.x,g=b.clientY-r.current.y;if(window.scrollY===0&&g>0&&Math.abs(k)<Math.abs(g)){w.preventDefault(),i.current=Math.min(g,l.pullToRefreshThreshold*1.5);const x=document.getElementById("pull-to-refresh-indicator");if(x){const c=i.current/l.pullToRefreshThreshold;x.style.transform=`translateY(${i.current*.5}px)`,x.style.opacity=Math.min(c,1).toString()}}},[l.pullToRefreshThreshold]),A=d.useCallback(w=>{if(!r.current||!n.current){r.current=null;return}const b=n.current.x-r.current.x,k=n.current.y-r.current.y,g=Date.now()-r.current.time,x=document.getElementById("pull-to-refresh-indicator");if(x&&(x.style.transform="translateY(0)",x.style.opacity="0"),Math.abs(b)>Math.abs(k)&&Math.abs(b)>l.swipeThreshold){const c=g<300,N=Math.abs(b)>Math.abs(k)*2;c&&N&&(b>0?j("right"):j("left"))}window.scrollY===0&&k>l.pullToRefreshThreshold&&!o.current&&(o.current=!0,a==null||a(),setTimeout(()=>{o.current=!1},2e3)),r.current=null,n.current=null,i.current=0},[l.swipeThreshold,l.pullToRefreshThreshold,j,a]);return d.useEffect(()=>{if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return document.addEventListener("touchstart",p,{passive:!1}),document.addEventListener("touchmove",y,{passive:!1}),document.addEventListener("touchend",A,{passive:!1}),()=>{document.removeEventListener("touchstart",p),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",A)}},[p,y,A]),{isRefreshing:o.current,pullDistance:i.current}},Jt={enableScrollToInput:!0,enableFormScrolling:!0,keyboardOffset:20},Qt=(t={})=>{const a={...Jt,...t},s=d.useRef(null),l=d.useRef(0),r=d.useRef(0),n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=d.useCallback(w=>{if(!a.enableScrollToInput||!n)return;const b=w.getBoundingClientRect(),k=window.innerHeight,g=r.current,x=k-g;if(b.bottom>x){const c=b.bottom-x+a.keyboardOffset;window.scrollBy({top:c,behavior:"smooth"})}},[a.enableScrollToInput,a.keyboardOffset,n]),i=d.useCallback(w=>{if(!n)return;const b=w.target;b&&(b.tagName==="INPUT"||b.tagName==="TEXTAREA")&&(s.current=b,l.current=window.scrollY,setTimeout(()=>{o(b)},300))},[o,n]),m=d.useCallback(()=>{n&&(s.current=null,setTimeout(()=>{r.current===0&&window.scrollTo({top:l.current,behavior:"smooth"})},300))},[n]),u=d.useCallback(()=>{if(!n)return;const w=window.innerHeight,k=window.screen.height-w;r.current=k;const g=document.querySelector('meta[name="viewport"]');g&&(k>0?g.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"):g.setAttribute("content","width=device-width, initial-scale=1.0")),s.current&&k>0&&o(s.current)},[o,n]),j=d.useCallback(()=>{if(!(!n||!a.enableFormScrolling)&&r.current>0&&s.current){const w=s.current.closest("form");if(w){const b=w.getBoundingClientRect(),k=window.innerHeight,g=r.current,x=k-g;if(b.bottom<x)return;const c=b.bottom-x;window.scrollY>c&&window.scrollTo({top:c,behavior:"smooth"})}}},[a.enableFormScrolling,n]);d.useEffect(()=>{if(n)return document.addEventListener("focusin",i),document.addEventListener("focusout",m),window.addEventListener("resize",u),window.addEventListener("scroll",j,{passive:!1}),u(),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",m),window.removeEventListener("resize",u),window.removeEventListener("scroll",j)}},[i,m,u,j,n]);const p=d.useCallback(w=>{o(w)},[o]),y=d.useCallback(()=>r.current,[]),A=d.useCallback(()=>r.current>0,[]);return{scrollToInputElement:p,getKeyboardHeight:y,isKeyboardOpen:A,isMobile:n}},Zt=({className:t})=>{const a=Be(),s=pe(),l=[{id:"home",path:"/dashboard",icon:Nt,label:"Home",testId:"nav-home"},{id:"games",path:"/dashboard/games",icon:B,label:"Games",testId:"nav-games"},{id:"venues",path:"/dashboard/venues",icon:D,label:"Venues",testId:"nav-venues"},{id:"profile",path:"/dashboard/profile",icon:ae,label:"Profile",testId:"nav-profile"},{id:"notifications",path:"/dashboard/notifications",icon:z,label:"Alerts",testId:"nav-notifications"}],r=i=>i==="/dashboard"?a.pathname==="/dashboard":a.pathname.startsWith(i),n=i=>{s(i)},o=()=>{s("/dashboard/games?action=create")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-[var(--bg-surface)] border-t border-[var(--border)] safe-area-pb",children:e.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:l.map(i=>{const m=i.icon,u=r(i.path);return e.jsxs("button",{onClick:()=>n(i.path),"data-testid":i.testId,className:Y("flex flex-col items-center justify-center min-w-[44px] min-h-[44px] px-2 py-1 rounded-lg transition-colors","touch-manipulation",u?"text-[var(--brand-primary)] bg-[var(--brand-primary)]/10":"text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--bg-hover)]"),"aria-label":i.label,children:[e.jsx(m,{className:Y("w-5 h-5 mb-0.5",u&&"scale-110")}),e.jsx("span",{className:Y("text-xs font-medium leading-none",u&&"font-semibold"),children:i.label})]},i.id)})})}),e.jsx("button",{onClick:o,className:"md:hidden fixed bottom-20 right-4 z-50 w-14 h-14 bg-[var(--brand-primary)] text-white rounded-full shadow-lg flex items-center justify-center touch-manipulation","aria-label":"Create Game","data-testid":"floating-create-button",children:e.jsx(K,{className:"w-6 h-6"})}),e.jsx("div",{className:"hidden md:block bg-[var(--bg-surface)] border-b border-[var(--border)]",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-xl font-bold text-[var(--text)]",children:"Pickup Sports"})}),e.jsx("nav",{className:"flex space-x-8",children:l.map(i=>{const m=i.icon,u=r(i.path);return e.jsxs("button",{onClick:()=>n(i.path),"data-testid":i.testId,className:Y("flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px]",u?"text-[var(--brand-primary)] bg-[var(--brand-primary)]/10":"text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--bg-hover)]"),children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{children:i.label})]},i.id)})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-[var(--brand-primary)] text-white rounded-lg hover:bg-[var(--brand-primary)]/90 transition-colors min-h-[44px]","data-testid":"desktop-create-button",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Game"})]})})]})})}),e.jsx("div",{id:"pull-to-refresh-indicator",className:"md:hidden fixed top-0 left-0 right-0 z-40 bg-[var(--brand-primary)] text-white text-center py-2 text-sm font-medium transform -translate-y-full transition-all duration-200",style:{opacity:0},children:"Pull to refresh"})]})},es=({isOpen:t,onClose:a,title:s,children:l,className:r,snapPoints:n=[.25,.5,.9],defaultSnapPoint:o=.5,enableDrag:i=!0,enableBackdropClose:m=!0})=>{const[u,j]=d.useState(o),[p,y]=d.useState(!1),[A,w]=d.useState(0),[b,k]=d.useState(0),g=d.useRef(null),x=d.useRef(null),c=C=>`${C*100}%`,N=C=>{const R=window.innerHeight,_=C/R;return n.reduce((I,$)=>Math.abs($-_)<Math.abs(I-_)?$:I)},M=C=>{i&&(y(!0),w(C.touches[0].clientY),k(C.touches[0].clientY))},S=C=>{!p||!i||(C.preventDefault(),k(C.touches[0].clientY))},h=()=>{if(!p||!i)return;const C=b-A,I=window.innerHeight*u+C,$=N(I);C>100&&$===n[0]?a():j($),y(!1)},P=C=>{m&&C.target===C.currentTarget&&a()};return d.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end",onClick:P,children:[e.jsx("div",{className:"absolute inset-0 bg-black/50"}),e.jsxs("div",{ref:g,className:Y("relative bg-[var(--bg-surface)] rounded-t-2xl shadow-2xl w-full max-h-[90vh]","transform transition-transform duration-300 ease-out",p?"transition-none":"",r),style:{height:c(u),transform:p?`translateY(${Math.max(0,b-A)}px)`:"translateY(0)"},children:[i&&e.jsx("div",{ref:x,className:"flex justify-center py-3 cursor-grab active:cursor-grabbing",onTouchStart:M,onTouchMove:S,onTouchEnd:h,children:e.jsx("div",{className:"w-12 h-1 bg-[var(--text-muted)] rounded-full"})}),(s||i)&&e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border)]",children:[s&&e.jsx("h3",{className:"text-lg font-semibold text-[var(--text)]",children:s}),e.jsx("button",{onClick:a,className:"p-2 -mr-2 text-[var(--text-muted)] hover:text-[var(--text)] transition-colors touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Close",children:e.jsx(J,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:l})]})]}):null},ts=({isOpen:t,onClose:a,title:s,children:l,className:r,side:n="right",size:o="md",enableBackdropClose:i=!0,enableSwipeClose:m=!0})=>{const u=d.useRef(null),j=d.useRef(0),p=d.useRef(0),y=d.useRef(!1),A={sm:"w-80",md:"w-96",lg:"w-[28rem]",xl:"w-[32rem]"},w=x=>{m&&(y.current=!0,j.current=x.touches[0].clientX,p.current=x.touches[0].clientX)},b=x=>{if(!y.current||!m)return;x.preventDefault(),p.current=x.touches[0].clientX;const c=p.current-j.current,N=u.current;N&&(n==="right"?c<0&&(N.style.transform=`translateX(${Math.max(c,-N.offsetWidth)}px)`):c>0&&(N.style.transform=`translateX(${Math.min(c,N.offsetWidth)}px)`))},k=()=>{if(!y.current||!m)return;const x=p.current-j.current,c=u.current,N=c?c.offsetWidth*.3:100;c&&(c.style.transform="",(n==="right"&&x<-N||n==="left"&&x>N)&&a()),y.current=!1},g=x=>{i&&x.target===x.currentTarget&&a()};return d.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?e.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:g,children:[e.jsx("div",{className:"absolute inset-0 bg-black/50"}),e.jsxs("div",{ref:u,className:Y("relative bg-[var(--bg-surface)] shadow-2xl h-full flex flex-col","transform transition-transform duration-300 ease-out",n==="right"?"ml-auto":"mr-auto",A[o],r),onTouchStart:w,onTouchMove:b,onTouchEnd:k,children:[s&&e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--border)]",children:[e.jsx("h3",{className:"text-lg font-semibold text-[var(--text)]",children:s}),e.jsx("button",{onClick:a,className:"p-2 -mr-2 text-[var(--text-muted)] hover:text-[var(--text)] transition-colors touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Close",children:e.jsx(J,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:l})]})]}):null},E=new Date,F={async getGames(){const t=E.getTime();return[{id:101,sport:"Futsal",location:"Tundikhel Futsal Court",latitude:27.7172,longitude:85.324,gameTime:new Date(t+36e5).toISOString(),skillLevel:"INTERMEDIATE",description:"Evening futsal match welcoming all hustle levels.",minPlayers:8,maxPlayers:12,currentPlayers:7,pricePerPlayer:150,durationMinutes:90,status:"ACTIVE",createdBy:{id:1,username:"sanjay",avatarUrl:""},participants:[],venue:{name:"Tundikhel Futsal Court",address:"Kathmandu"},createdAt:E.toISOString(),updatedAt:E.toISOString()},{id:102,sport:"Basketball",location:"Kathmandu Sports Complex",latitude:27.72,longitude:85.33,gameTime:new Date(t+72e5).toISOString(),skillLevel:"ADVANCED",description:"Full-court run focused on fast breaks and tight defence.",minPlayers:8,maxPlayers:10,currentPlayers:6,pricePerPlayer:0,durationMinutes:120,status:"ACTIVE",createdBy:{id:2,username:"anita",avatarUrl:""},participants:[],venue:{name:"Kathmandu Sports Complex",address:"New Baneshwor"},createdAt:E.toISOString(),updatedAt:E.toISOString()},{id:103,sport:"Cricket",location:"TU Cricket Ground",latitude:27.68,longitude:85.31,gameTime:new Date(t+144e5).toISOString(),skillLevel:"BEGINNER",description:"Friendly practice nets with coaching tips for new players.",minPlayers:12,maxPlayers:20,currentPlayers:14,pricePerPlayer:200,durationMinutes:150,status:"ACTIVE",createdBy:{id:3,username:"manish",avatarUrl:""},participants:[],venue:{name:"TU Cricket Ground",address:"Kirtipur"},createdAt:E.toISOString(),updatedAt:E.toISOString()},{id:104,sport:"Volleyball",location:"Pulchowk Sports Complex",latitude:27.69,longitude:85.32,gameTime:new Date(t+18e6).toISOString(),skillLevel:"INTERMEDIATE",description:"Competitive volleyball match for intermediate players.",minPlayers:8,maxPlayers:12,currentPlayers:10,pricePerPlayer:100,durationMinutes:90,status:"ACTIVE",createdBy:{id:4,username:"priya",avatarUrl:""},participants:[],venue:{name:"Pulchowk Sports Complex",address:"Lalitpur"},createdAt:E.toISOString(),updatedAt:E.toISOString()},{id:105,sport:"Badminton",location:"Satdobato Sports Complex",latitude:27.65,longitude:85.3,gameTime:new Date(t+216e5).toISOString(),skillLevel:"ADVANCED",description:"High-intensity badminton doubles match.",minPlayers:4,maxPlayers:8,currentPlayers:6,pricePerPlayer:80,durationMinutes:60,status:"ACTIVE",createdBy:{id:5,username:"rajesh",avatarUrl:""},participants:[],venue:{name:"Satdobato Sports Complex",address:"Lalitpur"},createdAt:E.toISOString(),updatedAt:E.toISOString()},{id:106,sport:"Tennis",location:"Kathmandu Club",latitude:27.72,longitude:85.35,gameTime:new Date(t+252e5).toISOString(),skillLevel:"INTERMEDIATE",description:"Tennis singles and doubles practice session.",minPlayers:2,maxPlayers:4,currentPlayers:3,pricePerPlayer:300,durationMinutes:120,status:"ACTIVE",createdBy:{id:6,username:"sophia",avatarUrl:""},participants:[],venue:{name:"Kathmandu Club",address:"Durbarmarg"},createdAt:E.toISOString(),updatedAt:E.toISOString()}]},async getVenues(){return[{id:201,name:"Dasharath Stadium Courts",description:"Multi-purpose courts with locker rooms and cafe. Perfect for basketball, volleyball, and other indoor sports. Features modern facilities and professional-grade equipment.",address:"Tripureshwor, Kathmandu",latitude:27.6938,longitude:85.3142,phone:"+977-1-4101234",capacity:40,hourlyRate:1800,amenities:["parking","locker_room","refreshments","wifi","security"],isActive:!0},{id:202,name:"Bhaktapur Arena",description:"Indoor futsal turf with advanced lighting. State-of-the-art facility with air conditioning and professional-grade turf. Ideal for futsal and small-sided football games.",address:"Suryabinayak, Bhaktapur",latitude:27.6713,longitude:85.4376,phone:"+977-1-5123456",capacity:18,hourlyRate:1500,amenities:["parking","shower","first_aid","air_conditioning","lighting"],isActive:!0},{id:203,name:"Kathmandu Sports Complex",description:"Large multi-sport complex with multiple courts and fields. Features basketball courts, volleyball courts, and a main hall for various sports activities.",address:"New Baneshwor, Kathmandu",latitude:27.72,longitude:85.33,phone:"+977-1-1234567",capacity:60,hourlyRate:2e3,amenities:["parking","locker_room","shower","first_aid","wifi","refreshments","security"],isActive:!0},{id:204,name:"Pulchowk Sports Center",description:"Modern sports facility with excellent amenities. Perfect for badminton, table tennis, and other indoor sports. Features professional lighting and ventilation.",address:"Pulchowk, Lalitpur",latitude:27.69,longitude:85.32,phone:"+977-1-2345678",capacity:25,hourlyRate:1200,amenities:["parking","locker_room","air_conditioning","lighting","wifi"],isActive:!0},{id:205,name:"Satdobato Sports Complex",description:"Comprehensive sports complex with multiple facilities. Features basketball courts, volleyball courts, and a main hall for various activities.",address:"Satdobato, Lalitpur",latitude:27.65,longitude:85.3,phone:"+977-1-3456789",capacity:50,hourlyRate:1600,amenities:["parking","locker_room","shower","first_aid","refreshments","security"],isActive:!0},{id:206,name:"Kathmandu Club",description:"Premium sports club with tennis courts and other facilities. Exclusive venue with high-end amenities and professional services.",address:"Durbarmarg, Kathmandu",latitude:27.72,longitude:85.35,phone:"+977-1-4567890",capacity:15,hourlyRate:3e3,amenities:["parking","locker_room","shower","wifi","refreshments","security","air_conditioning"],isActive:!0},{id:207,name:"TU Cricket Ground",description:"Large outdoor cricket ground with practice nets. Perfect for cricket practice and matches. Features well-maintained pitch and facilities.",address:"Kirtipur, Kathmandu",latitude:27.68,longitude:85.31,phone:"+977-1-5678901",capacity:100,hourlyRate:2500,amenities:["parking","first_aid","refreshments","security"],isActive:!0},{id:208,name:"Tundikhel Futsal Court",description:"Popular futsal court in the heart of Kathmandu. Well-maintained turf with good lighting. Great for evening games and tournaments.",address:"Tundikhel, Kathmandu",latitude:27.7172,longitude:85.324,phone:"+977-1-6789012",capacity:20,hourlyRate:1e3,amenities:["parking","lighting","refreshments"],isActive:!0}]},async getNotifications(){return[{id:301,userId:1,message:"You have been added to Futsal Friday Night!",type:"GAME_UPDATE",isRead:!1,createdAt:E.toISOString()},{id:302,userId:1,message:"Venue booking confirmed at Kathmandu Sports Complex.",type:"BOOKING",isRead:!0,readAt:E.toISOString(),createdAt:E.toISOString()}]},async getRecommendations(){return(await this.getGames()).slice(0,2).map(a=>({id:a.id,title:a.sport+" spotlight",summary:a.description,game:a}))},async getNearbyGames(t,a,s=5){return(await this.getGames()).map(r=>({id:r.id.toString(),sport:r.sport,venue:r.venue.name,time:r.gameTime,price:r.pricePerPlayer,playersCount:r.currentPlayers,maxPlayers:r.maxPlayers,skillLevel:r.skillLevel,location:{lat:r.latitude,lng:r.longitude,address:r.venue.address}}))},async searchGames(t){return(await this.getGames()).map(s=>({id:s.id.toString(),sport:s.sport,venue:s.venue.name,time:s.gameTime,price:s.pricePerPlayer,playersCount:s.currentPlayers,maxPlayers:s.maxPlayers,skillLevel:s.skillLevel,location:{lat:s.latitude,lng:s.longitude,address:s.venue.address},distance:Math.random()*10+1,isPrivate:Math.random()>.7,createdBy:{id:Math.floor(Math.random()*100),username:`user${Math.floor(Math.random()*1e3)}`,avatarUrl:""},description:`Join us for an exciting ${s.sport.toLowerCase()} game! All skill levels welcome.`,status:s.currentPlayers>=s.maxPlayers?"FULL":"ACTIVE"}))},async getTrendingSports(t,a){return[{sport:"Futsal",playerCount:24,gameCount:8,icon:"âš½"},{sport:"Basketball",playerCount:18,gameCount:6,icon:"ðŸ€"},{sport:"Cricket",playerCount:32,gameCount:4,icon:"ðŸ"},{sport:"Volleyball",playerCount:16,gameCount:5,icon:"ðŸ"},{sport:"Badminton",playerCount:12,gameCount:6,icon:"ðŸ¸"},{sport:"Tennis",playerCount:8,gameCount:4,icon:"ðŸŽ¾"}]},async getRecentActivity(t){return[{id:"1",sport:"Futsal",venue:"Tundikhel Futsal Court",date:new Date(E.getTime()-864e5).toISOString(),status:"won",outcome:"Won 3-2"},{id:"2",sport:"Basketball",venue:"Kathmandu Sports Complex",date:new Date(E.getTime()-1728e5).toISOString(),status:"lost",outcome:"Lost 45-52"},{id:"3",sport:"Cricket",venue:"TU Cricket Ground",date:new Date(E.getTime()-2592e5).toISOString(),status:"won",outcome:"Won by 15 runs"},{id:"4",sport:"Volleyball",venue:"Dasharath Stadium",date:new Date(E.getTime()-3456e5).toISOString(),status:"tied",outcome:"Tied 2-2"}]},async getUnreadNotifications(){return(await this.getNotifications()).filter(a=>!a.isRead).map(a=>({id:a.id.toString(),title:a.type==="GAME_UPDATE"?"Game Update":a.type==="BOOKING"?"Booking Confirmed":"System Notification",message:a.message,type:a.type.toLowerCase().includes("game")?"game":a.type.toLowerCase().includes("booking")?"venue":"system",isRead:a.isRead,createdAt:a.createdAt}))}};class se{static async getWeather(a,s){try{if(this.API_KEY==="YOUR_OPENWEATHER_API_KEY")return console.warn("Weather API key not configured, using fallback data"),this.getFallbackWeather();const l=await fetch(`${this.BASE_URL}?lat=${a}&lon=${s}&appid=${this.API_KEY}&units=metric`);if(!l.ok)throw new Error(`Weather API error: ${l.status}`);const r=await l.json();return{city:r.name,temperature:Math.round(r.main.temp),condition:r.weather[0].main,icon:r.weather[0].icon}}catch(l){return console.error("Weather fetch error:",l),this.getFallbackWeather()}}static getFallbackWeather(){const a=[{name:"Kathmandu",temp:22},{name:"Pokhara",temp:25},{name:"Chitwan",temp:28},{name:"Bharatpur",temp:26}],s=a[Math.floor(Math.random()*a.length)];return{city:s.name,temperature:s.temp,condition:"Clear",icon:"01d"}}static getWeatherIcon(a){return{"01d":"â˜€ï¸","01n":"ðŸŒ™","02d":"â›…","02n":"â˜ï¸","03d":"â˜ï¸","03n":"â˜ï¸","04d":"â˜ï¸","04n":"â˜ï¸","09d":"ðŸŒ§ï¸","09n":"ðŸŒ§ï¸","10d":"ðŸŒ¦ï¸","10n":"ðŸŒ§ï¸","11d":"â›ˆï¸","11n":"â›ˆï¸","13d":"â„ï¸","13n":"â„ï¸","50d":"ðŸŒ«ï¸","50n":"ðŸŒ«ï¸"}[a]||"â˜€ï¸"}}H(se,"API_KEY","YOUR_OPENWEATHER_API_KEY"),H(se,"BASE_URL","https://api.openweathermap.org/data/2.5/weather");class ss{constructor(){H(this,"dbName","PickupSportsCache");H(this,"dbVersion",1);H(this,"db",null)}async initialize(){return new Promise((a,s)=>{const l=indexedDB.open(this.dbName,this.dbVersion);l.onerror=()=>s(l.error),l.onsuccess=()=>{this.db=l.result,a()},l.onupgradeneeded=r=>{const n=r.target.result;n.objectStoreNames.contains("games")||n.createObjectStore("games",{keyPath:"id"}),n.objectStoreNames.contains("venues")||n.createObjectStore("venues",{keyPath:"id"}),n.objectStoreNames.contains("profile")||n.createObjectStore("profile",{keyPath:"id"}),n.objectStoreNames.contains("notifications")||n.createObjectStore("notifications",{keyPath:"id"}),n.objectStoreNames.contains("trending")||n.createObjectStore("trending",{keyPath:"id"})}})}async set(a,s,l,r=60){if(!this.db)throw new Error("Database not initialized");const n={data:l,timestamp:Date.now(),expiresAt:Date.now()+r*60*1e3};return new Promise((o,i)=>{const j=this.db.transaction([a],"readwrite").objectStore(a).put({id:s,...n});j.onerror=()=>i(j.error),j.onsuccess=()=>o()})}async get(a,s){return this.db?new Promise((l,r)=>{const i=this.db.transaction([a],"readonly").objectStore(a).get(s);i.onerror=()=>r(i.error),i.onsuccess=()=>{const m=i.result;if(!m){l(null);return}const u=m;if(Date.now()>u.expiresAt){this.delete(a,s),l(null);return}l(u.data)}}):null}async getAll(a){return this.db?new Promise((s,l)=>{const o=this.db.transaction([a],"readonly").objectStore(a).getAll();o.onerror=()=>l(o.error),o.onsuccess=()=>{const m=o.result.filter(u=>Date.now()<=u.expiresAt).map(u=>u.data);s(m)}}):[]}async delete(a,s){if(this.db)return new Promise((l,r)=>{const i=this.db.transaction([a],"readwrite").objectStore(a).delete(s);i.onerror=()=>r(i.error),i.onsuccess=()=>l()})}async clear(a){if(this.db)return new Promise((s,l)=>{const o=this.db.transaction([a],"readwrite").objectStore(a).clear();o.onerror=()=>l(o.error),o.onsuccess=()=>s()})}async clearExpired(){if(!this.db)return;const a=["games","venues","profile","notifications","trending"];for(const s of a){const r=this.db.transaction([s],"readwrite").objectStore(s),n=r.getAll();n.onsuccess=()=>{const o=n.result,i=Date.now();o.forEach(m=>{i>m.expiresAt&&r.delete(m.id)})}}}async cacheGames(a,s=30){await this.set("games","nearby",a,s)}async getCachedGames(){return await this.get("games","nearby")}async cacheVenues(a,s=60){await this.set("venues","nearby",a,s)}async getCachedVenues(){return await this.get("venues","nearby")}async cacheProfile(a,s=120){await this.set("profile","current",a,s)}async getCachedProfile(){return await this.get("profile","current")}async cacheTrending(a,s=15){await this.set("trending","sports",a,s)}async getCachedTrending(){return await this.get("trending","sports")}async cacheNotifications(a,s=30){await this.set("notifications","recent",a,s)}async getCachedNotifications(){return await this.get("notifications","recent")}}const G=new ss,as=()=>e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-[var(--bg-surface)] rounded-xl p-4 min-w-[280px]",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[var(--bg-muted)] rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-[var(--bg-muted)] rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-[var(--bg-muted)] rounded w-1/2"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-[var(--bg-muted)] rounded w-full"}),e.jsx("div",{className:"h-3 bg-[var(--bg-muted)] rounded w-2/3"})]}),e.jsx("div",{className:"mt-3 h-8 bg-[var(--bg-muted)] rounded"})]})}),rs=()=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"bg-[var(--bg-surface)] rounded-full px-4 py-2 h-8 w-20"})}),ke=()=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"bg-[var(--bg-surface)] rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[var(--bg-muted)] rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-[var(--bg-muted)] rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-[var(--bg-muted)] rounded w-1/2"})]})]})})});function ns(){const t=pe(),{profile:a}=ve(),{location:s}=ge(),{isConnected:l,gameUpdates:r}=ze(),{isOnline:n}=$e(),[o,i]=d.useState(null),[m,u]=d.useState([]),[j,p]=d.useState([]),[y,A]=d.useState([]),[w,b]=d.useState([]),[k,g]=d.useState(!0),[x,c]=d.useState(!1);d.useEffect(()=>{(async()=>{if(s!=null&&s.lat&&(s!=null&&s.lng))try{const P=await se.getWeather(s.lat,s.lng);i(P)}catch(P){console.error("Weather fetch error:",P),i({city:"Kathmandu",temperature:22,condition:"Clear",icon:"01d"})}})()},[s]),d.useEffect(()=>{(async()=>{try{g(!0),c(!n);const P=(s==null?void 0:s.lat)||27.7172,C=(s==null?void 0:s.lng)||85.324;if(n){const[R,_,I]=await Promise.all([F.getNearbyGames(P,C,5),F.getTrendingSports(P,C),F.getUnreadNotifications()]);let $=[];a!=null&&a.id&&($=await F.getRecentActivity(a.id)),u(R),p(_),A($),b(I),await Promise.all([G.cacheGames(R),G.cacheTrending(_),G.cacheNotifications(I)])}else{const[R,_,I]=await Promise.all([G.getCachedGames(),G.getCachedTrending(),G.getCachedNotifications()]);u(R||[]),p(_||[]),b(I||[])}}catch(P){console.error("Dashboard data fetch error:",P);try{const[C,R,_]=await Promise.all([G.getCachedGames(),G.getCachedTrending(),G.getCachedNotifications()]);u(C||[]),p(R||[]),b(_||[])}catch(C){console.error("Failed to load cached data:",C),u([]),p([]),A([]),b([])}}finally{g(!1)}})()},[s,a,n]),d.useEffect(()=>{if(r.length>0){const h=r[0];u(P=>P.map(C=>C.id===h.gameId?{...C,currentPlayers:h.playerCount,maxPlayers:h.maxPlayers}:C))}},[r]);const M=(h=>h<100?{rank:"Learner",color:"text-[var(--info)]",bg:"bg-[var(--info)]/10"}:h<500?{rank:"Competent",color:"text-[var(--warning)]",bg:"bg-[var(--warning)]/10"}:h<1e3?{rank:"Advanced",color:"text-[var(--success)]",bg:"bg-[var(--success)]/10"}:{rank:"Pro",color:"text-[var(--brand-primary)]",bg:"bg-[var(--brand-primary)]/10"})((a==null?void 0:a.xp)||0),S=((a==null?void 0:a.xp)||0)%100/100;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-[var(--nepal-navy)] via-[var(--nepal-blue)] to-[var(--nepal-crimson)] text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"relative p-6 md:p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(a==null?void 0:a.firstName)||"Player","! ðŸ‘‹"]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm md:text-base",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:(o==null?void 0:o.city)||"Kathmandu"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:o!=null&&o.icon?se.getWeatherIcon(o.icon):"â˜€ï¸"}),e.jsx(Vt,{className:"w-4 h-4"}),e.jsxs("span",{children:[(o==null?void 0:o.temperature)||22,"Â°C"]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:items-end gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Your Rank"}),e.jsx(L,{variant:"default",className:`${M.bg} ${M.color} border-0`,children:M.rank})]}),e.jsxs("div",{className:"w-full md:w-48",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"XP Progress"}),e.jsxs("span",{children:[(a==null?void 0:a.xp)||0," XP"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:e.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-300",style:{width:`${S*100}%`}})})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(v,{onClick:()=>t("/dashboard/games?action=create"),className:"h-16 bg-gradient-to-r from-[var(--brand-primary)] to-[var(--brand-secondary)] hover:from-[var(--brand-primary)]/90 hover:to-[var(--brand-secondary)]/90 text-white border-0",children:[e.jsx(K,{className:"w-5 h-5 mr-2"}),"Create Game"]}),e.jsxs(v,{onClick:()=>t("/dashboard/games"),variant:"outline",className:"h-16 border-[var(--border)] hover:bg-[var(--bg-surface)]",children:[e.jsx(ye,{className:"w-5 h-5 mr-2"}),"Find Games"]}),e.jsxs(v,{onClick:()=>t("/dashboard/games?filter=my-games"),variant:"outline",className:"h-16 border-[var(--border)] hover:bg-[var(--bg-surface)]",children:[e.jsx(B,{className:"w-5 h-5 mr-2"}),"My Games"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-[var(--brand-primary)]"}),"Nearby Games"]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>t("/dashboard/games"),children:["View All",e.jsx(Z,{className:"w-4 h-4 ml-1"})]})]}),k?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[...Array(3)].map((h,P)=>e.jsx(as,{},P))}):m.length>0?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:m.map(h=>e.jsxs("div",{className:"bg-[var(--bg-surface)] rounded-xl p-4 min-w-[280px] border border-[var(--border)] hover:border-[var(--brand-primary)]/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[var(--brand-primary)]/10 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-5 h-5 text-[var(--brand-primary)]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-[var(--text)]",children:h.sport}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:h.venue})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted)]",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(h.time).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted)]",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsxs("span",{children:[h.playersCount,"/",h.maxPlayers," players"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted)]",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:h.location.address})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-lg font-semibold text-[var(--brand-primary)]",children:["NPR ",h.price]}),e.jsx(v,{size:"sm",className:"bg-[var(--brand-primary)] hover:bg-[var(--brand-primary)]/90 text-white",children:"Join"})]})]},h.id))}):e.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:[e.jsx(B,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No nearby games found"}),e.jsx(v,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/dashboard/games"),children:"Find Games"})]})]}),e.jsxs(f,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-[var(--success)]"}),"Trending Sports"]})}),k?e.jsx("div",{className:"flex flex-wrap gap-2",children:[...Array(6)].map((h,P)=>e.jsx(rs,{},P))}):j.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((h,P)=>e.jsx("div",{className:"bg-[var(--bg-surface)] border border-[var(--border)] rounded-full px-4 py-2 hover:border-[var(--brand-primary)]/50 transition-colors cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:h.icon}),e.jsx("span",{className:"font-medium text-[var(--text)]",children:h.sport}),e.jsx(L,{variant:"default",size:"sm",className:"bg-[var(--success)]/10 text-[var(--success)] border-0",children:h.playerCount})]})},h.sport))}):e.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:[e.jsx(he,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No trending sports data available"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-[var(--warning)]"}),"Recent Activity"]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>t("/dashboard/profile"),children:["View All",e.jsx(Z,{className:"w-4 h-4 ml-1"})]})]}),k?e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((h,P)=>e.jsx(ke,{},P))}):y.length>0?e.jsx("div",{className:"space-y-3",children:y.slice(0,5).map(h=>e.jsx("div",{className:"bg-[var(--bg-surface)] rounded-lg p-4 border border-[var(--border)] hover:border-[var(--brand-primary)]/50 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${h.status==="won"?"bg-[var(--success)]/10":h.status==="lost"?"bg-[var(--error)]/10":h.status==="tied"?"bg-[var(--warning)]/10":"bg-[var(--bg-muted)]"}`,children:h.status==="won"?e.jsx(q,{className:"w-4 h-4 text-[var(--success)]"}):h.status==="lost"?e.jsx(q,{className:"w-4 h-4 text-[var(--error)]"}):h.status==="tied"?e.jsx(q,{className:"w-4 h-4 text-[var(--warning)]"}):e.jsx(oe,{className:"w-4 h-4 text-[var(--text-muted)]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium text-[var(--text)]",children:[h.sport," at ",h.venue]}),e.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:[h.outcome," â€¢ ",new Date(h.date).toLocaleDateString()]})]})]})},h.id))}):e.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:[e.jsx(ce,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No recent activity"}),e.jsx(v,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>t("/dashboard/games"),children:"Join a Game"})]})]}),e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-[var(--brand-primary)]"}),"Notifications"]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>t("/dashboard/notifications"),children:["View All",e.jsx(Z,{className:"w-4 h-4 ml-1"})]})]}),k?e.jsx("div",{className:"space-y-3",children:[...Array(2)].map((h,P)=>e.jsx(ke,{},P))}):w.length>0?e.jsx("div",{className:"space-y-3",children:w.slice(0,2).map(h=>e.jsx("div",{className:"bg-[var(--bg-surface)] rounded-lg p-4 border border-[var(--border)] hover:border-[var(--brand-primary)]/50 transition-colors cursor-pointer",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[var(--brand-primary)]/10 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(z,{className:"w-4 h-4 text-[var(--brand-primary)]"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-[var(--text)]",children:h.title}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:h.message}),e.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:new Date(h.createdAt).toLocaleDateString()})]}),!h.isRead&&e.jsx("div",{className:"w-2 h-2 bg-[var(--brand-primary)] rounded-full flex-shrink-0"})]})},h.id))}):e.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:[e.jsx(z,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No notifications"})]})]})]})]})]})}const is=({games:t,onGameSelect:a,selectedGame:s})=>e.jsxs("div",{className:"h-full bg-gradient-to-br from-blue-100 to-green-100 rounded-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-600",children:[e.jsx(fe,{className:"w-16 h-16 mx-auto mb-4 text-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Interactive Map"}),e.jsx("p",{className:"text-sm",children:"Map integration coming soon"}),e.jsxs("p",{className:"text-xs mt-2",children:[t.length," games in your area"]})]})}),t.slice(0,5).map((l,r)=>e.jsx("button",{onClick:()=>a(l),className:`absolute w-8 h-8 bg-red-500 rounded-full border-2 border-white shadow-lg transform -translate-x-1/2 -translate-y-1/2 hover:scale-110 transition-transform ${(s==null?void 0:s.id)===l.id?"ring-4 ring-blue-300":""}`,style:{left:`${20+r*15}%`,top:`${30+r*10}%`},children:e.jsx("span",{className:"text-white text-xs font-bold",children:l.sport[0]})},l.id))]}),ls=({game:t,onJoin:a,isJoining:s=!1})=>{const l=m=>{const u=new Date(m);return{day:u.toLocaleDateString("en-US",{weekday:"short"}),time:u.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},{day:r,time:n}=l(t.time),o=t.playersCount>=t.maxPlayers,i=t.status==="ACTIVE"&&!o;return e.jsxs(f,{className:"p-4 hover:shadow-lg transition-shadow border border-[var(--border)] hover:border-[var(--brand-primary)]/50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-[var(--brand-primary)]/10 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:t.sport==="Futsal"?"âš½":t.sport==="Basketball"?"ðŸ€":t.sport==="Cricket"?"ðŸ":t.sport==="Volleyball"?"ðŸ":t.sport==="Badminton"?"ðŸ¸":t.sport==="Tennis"?"ðŸŽ¾":"âš½"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)]",children:t.sport}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:t.venue})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-[var(--brand-primary)]",children:["NPR ",t.price]}),t.distance&&e.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:[t.distance.toFixed(1)," km away"]})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted)]",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsxs("span",{children:[r," ",n]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted)]",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:t.location.address})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted)]",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.playersCount,"/",t.maxPlayers," players"]}),o&&e.jsx(L,{variant:"error",size:"sm",children:"Full"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted)]",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsx("span",{children:t.skillLevel}),t.isPrivate&&e.jsx(L,{variant:"default",size:"sm",children:"Private"})]})]}),t.description&&e.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:["by @",t.createdBy.username]}),e.jsx(v,{onClick:()=>a(t.id),disabled:!i||s,className:`${i?"bg-[var(--brand-primary)] hover:bg-[var(--brand-primary)]/90 text-white":"bg-[var(--bg-muted)] text-[var(--text-muted)] cursor-not-allowed"}`,size:"sm",children:s?"Joining...":i?"Join":o?"Full":"Closed"})]})]})},cs=({isOpen:t,onClose:a,filters:s,onFiltersChange:l})=>{if(!t)return null;const r=(n,o)=>{l({...s,[n]:o})};return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50",onClick:a,children:e.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-[var(--bg-surface)] shadow-xl",onClick:n=>n.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),e.jsx(v,{variant:"outline",size:"sm",onClick:a,children:e.jsx(J,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price Range (NPR)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:s.priceRange[0],onChange:n=>r("priceRange",[Number(n.target.value),s.priceRange[1]]),className:"flex-1 px-3 py-2 border border-[var(--border)] rounded-lg",placeholder:"Min"}),e.jsx("span",{children:"-"}),e.jsx("input",{type:"number",value:s.priceRange[1],onChange:n=>r("priceRange",[s.priceRange[0],Number(n.target.value)]),className:"flex-1 px-3 py-2 border border-[var(--border)] rounded-lg",placeholder:"Max"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Player Count"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:s.playerCount[0],onChange:n=>r("playerCount",[Number(n.target.value),s.playerCount[1]]),className:"flex-1 px-3 py-2 border border-[var(--border)] rounded-lg",placeholder:"Min"}),e.jsx("span",{children:"-"}),e.jsx("input",{type:"number",value:s.playerCount[1],onChange:n=>r("playerCount",[s.playerCount[0],Number(n.target.value)]),className:"flex-1 px-3 py-2 border border-[var(--border)] rounded-lg",placeholder:"Max"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Distance (km)"}),e.jsx("input",{type:"range",min:"1",max:"50",value:s.distance,onChange:n=>r("distance",Number(n.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[e.jsx("span",{children:"1 km"}),e.jsxs("span",{children:[s.distance," km"]}),e.jsx("span",{children:"50 km"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Game Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"privacy",checked:s.isPrivate===null,onChange:()=>r("isPrivate",null)}),e.jsx("span",{children:"All Games"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"privacy",checked:s.isPrivate===!1,onChange:()=>r("isPrivate",!1)}),e.jsx("span",{children:"Public Only"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"privacy",checked:s.isPrivate===!0,onChange:()=>r("isPrivate",!0)}),e.jsx("span",{children:"Private Only"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Sort By"}),e.jsx("div",{className:"space-y-2",children:[{value:"distance",label:"Distance"},{value:"time",label:"Time"},{value:"price",label:"Price"},{value:"popularity",label:"Popularity"}].map(n=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"sortBy",value:n.value,checked:s.sortBy===n.value,onChange:o=>r("sortBy",o.target.value)}),e.jsx("span",{children:n.label})]},n.value))})]})]}),e.jsxs("div",{className:"flex gap-2 mt-8",children:[e.jsx(v,{variant:"outline",onClick:a,className:"flex-1",children:"Apply Filters"}),e.jsx(v,{onClick:()=>{l({sport:"",location:"",date:"",skillLevel:"",priceRange:[0,1e3],playerCount:[2,20],distance:10,isPrivate:null,sortBy:"distance",sortOrder:"asc"}),a()},className:"flex-1",children:"Clear All"})]})]})})})};function os(){const{location:t}=ge(),[a,s]=d.useState([]),[l,r]=d.useState(!0),[n,o]=d.useState("list"),[i,m]=d.useState(!1),[u,j]=d.useState(),[p,y]=d.useState(new Set),[A,w]=d.useState(1),[b,k]=d.useState(!0),[g,x]=d.useState({sport:"",location:"",date:"",skillLevel:"",priceRange:[0,1e3],playerCount:[2,20],distance:10,isPrivate:null,sortBy:"distance",sortOrder:"asc"}),c=d.useCallback(async(S=1,h=!1)=>{try{r(!0);let C=(await F.getNearbyGames((t==null?void 0:t.lat)||27.7172,(t==null?void 0:t.lng)||85.324,g.distance)).filter(R=>!(g.sport&&!R.sport.toLowerCase().includes(g.sport.toLowerCase())||g.skillLevel&&R.skillLevel!==g.skillLevel||g.priceRange[0]>0&&R.price<g.priceRange[0]||g.priceRange[1]<1e3&&R.price>g.priceRange[1]||g.playerCount[0]>0&&R.playersCount<g.playerCount[0]||g.playerCount[1]<20&&R.playersCount>g.playerCount[1]||g.isPrivate!==null&&R.isPrivate!==g.isPrivate));C=C.map(R=>({...R,distance:Math.random()*10+1,isPrivate:Math.random()>.7,createdBy:{id:Math.floor(Math.random()*100),username:`user${Math.floor(Math.random()*1e3)}`,avatarUrl:""},description:`Join us for an exciting ${R.sport.toLowerCase()} game! All skill levels welcome.`,status:R.playersCount>=R.maxPlayers?"FULL":"ACTIVE"})),C.sort((R,_)=>{let I=0;switch(g.sortBy){case"distance":I=(R.distance||0)-(_.distance||0);break;case"time":I=new Date(R.time).getTime()-new Date(_.time).getTime();break;case"price":I=R.price-_.price;break;case"popularity":I=_.playersCount-R.playersCount;break}return g.sortOrder==="asc"?I:-I}),h?(s(C),w(1)):s(R=>[...R,...C]),k(C.length===20)}catch(P){console.error("Error fetching games:",P)}finally{r(!1)}},[t,g]),N=()=>{!l&&b&&(w(S=>S+1),c(A+1,!1))},M=async S=>{try{y(h=>new Set(h).add(S)),await new Promise(h=>setTimeout(h,1e3)),s(h=>h.map(P=>P.id===S?{...P,playersCount:P.playersCount+1}:P)),console.log("Joined game successfully!")}catch(h){console.error("Error joining game:",h)}finally{y(h=>{const P=new Set(h);return P.delete(S),P})}};return d.useEffect(()=>{c(1,!0)},[c]),e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),e.jsx("input",{type:"text",placeholder:"Search sports...",value:g.sport,onChange:S=>x(h=>({...h,sport:S.target.value})),className:"w-full pl-10 pr-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),e.jsx("input",{type:"text",placeholder:"Location",value:g.location||(t==null?void 0:t.name)||"Kathmandu",onChange:S=>x(h=>({...h,location:S.target.value})),className:"w-full pl-10 pr-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),e.jsx("input",{type:"date",value:g.date,onChange:S=>x(h=>({...h,date:S.target.value})),className:"w-full pl-10 pr-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent"})]}),e.jsxs("select",{value:g.skillLevel,onChange:S=>x(h=>({...h,skillLevel:S.target.value})),className:"w-full px-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Levels"}),e.jsx("option",{value:"BEGINNER",children:"Beginner"}),e.jsx("option",{value:"INTERMEDIATE",children:"Intermediate"}),e.jsx("option",{value:"ADVANCED",children:"Advanced"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{onClick:()=>m(!0),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Filters"]}),e.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-muted)] rounded-lg p-1",children:[e.jsxs(v,{onClick:()=>o("list"),variant:n==="list"?"default":"ghost",size:"sm",className:"flex items-center gap-1",children:[e.jsx(kt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"List"})]}),e.jsxs(v,{onClick:()=>o("map"),variant:n==="map"?"default":"ghost",size:"sm",className:"flex items-center gap-1",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Map"})]})]})]}),e.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:[a.length," games found"]})]})]})}),e.jsxs("div",{className:`grid gap-4 ${n==="list"?"grid-cols-1":"grid-cols-1 lg:grid-cols-5"}`,children:[e.jsx("div",{className:`${n==="map"?"lg:col-span-3":"col-span-1"}`,children:l&&a.length===0?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((S,h)=>e.jsx(f,{className:"p-4 animate-pulse",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-[var(--bg-muted)] rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-[var(--bg-muted)] rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-[var(--bg-muted)] rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-[var(--bg-muted)] rounded w-2/3"})]})]})},h))}):e.jsxs("div",{className:"space-y-4",children:[a.map(S=>e.jsx(ls,{game:S,onJoin:M,isJoining:p.has(S.id)},S.id)),b&&e.jsx("div",{className:"text-center py-4",children:e.jsx(v,{onClick:N,disabled:l,variant:"outline",className:"w-full",children:l?"Loading...":"Load More Games"})})]})}),n==="map"&&e.jsx("div",{className:"lg:col-span-2 h-96 lg:h-auto",children:e.jsx(f,{className:"h-full p-4",children:e.jsx(is,{games:a,onGameSelect:j,selectedGame:u})})})]}),e.jsx(cs,{isOpen:i,onClose:()=>m(!1),filters:g,onFiltersChange:x})]})}const _e={parking:Qe,locker_room:O,shower:mt,first_aid:jt,wifi:Oe,refreshments:nt,security:te,photography:re,air_conditioning:te,lighting:ie},ds=({venue:t,onClick:a,onBook:s,isBooking:l=!1})=>{const r=o=>`NPR ${o.toLocaleString()}/hour`,n=o=>{const i=_e[o]||D;return e.jsx(i,{className:"w-4 h-4"})};return e.jsxs(f,{className:"p-4 hover:shadow-lg transition-all duration-200 cursor-pointer border border-[var(--border)] hover:border-[var(--brand-primary)]/50",onClick:()=>a(t),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] text-lg mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-2",children:t.address}),t.rating&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((o,i)=>e.jsx(ie,{className:`w-4 h-4 ${i<Math.floor(t.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},i))}),e.jsxs("span",{className:"text-sm text-[var(--text-muted)] ml-1",children:[t.rating.toFixed(1)," (",t.reviewCount," reviews)"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-[var(--brand-primary)]",children:r(t.hourlyRate)}),t.distance&&e.jsxs("div",{className:"text-xs text-[var(--text-muted)]",children:[t.distance.toFixed(1)," km away"]})]})]}),e.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-[var(--text-muted)]",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.capacity," capacity"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{children:t.phone})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.amenities.slice(0,4).map(o=>e.jsxs(L,{variant:"default",size:"sm",className:"flex items-center gap-1 bg-[var(--bg-muted)] text-[var(--text-muted)] border-0",children:[n(o),e.jsx("span",{className:"capitalize",children:o.replace("_"," ")})]},o)),t.amenities.length>4&&e.jsxs(L,{variant:"default",size:"sm",className:"bg-[var(--bg-muted)] text-[var(--text-muted)] border-0",children:["+",t.amenities.length-4," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:t.sports.join(", ")}),e.jsx(v,{onClick:o=>{o.stopPropagation(),s(t.id)},disabled:l,className:"bg-[var(--brand-primary)] hover:bg-[var(--brand-primary)]/90 text-white",size:"sm",children:l?"Booking...":"Book Venue"})]})]})},ms=({venue:t,isOpen:a,onClose:s,onBook:l,isBooking:r=!1})=>{if(!t)return null;const n=i=>`NPR ${i.toLocaleString()}/hour`,o=i=>{const m=_e[i]||D;return e.jsx(m,{className:"w-5 h-5"})};return e.jsx(ee,{isOpen:a,onClose:s,size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--text)] mb-2",children:t.name}),e.jsx("p",{className:"text-[var(--text-muted)] mb-2",children:t.address}),t.rating&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((i,m)=>e.jsx(ie,{className:`w-4 h-4 ${m<Math.floor(t.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},m))}),e.jsxs("span",{className:"text-sm text-[var(--text-muted)]",children:[t.rating.toFixed(1)," (",t.reviewCount," reviews)"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--brand-primary)]",children:n(t.hourlyRate)}),t.distance&&e.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:[t.distance.toFixed(1)," km away"]})]})]}),t.photos&&t.photos.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.photos.slice(0,4).map((i,m)=>e.jsx("div",{className:"aspect-video bg-[var(--bg-muted)] rounded-lg flex items-center justify-center",children:e.jsx(re,{className:"w-8 h-8 text-[var(--text-muted)]"})},m))}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-2",children:"About"}),e.jsx("p",{className:"text-[var(--text-muted)]",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 text-[var(--brand-primary)]"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Capacity"}),e.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:[t.capacity," people"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-5 h-5 text-[var(--brand-primary)]"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:"Phone"}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:t.phone})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-3",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.amenities.map(i=>e.jsxs("div",{className:"flex items-center gap-2",children:[o(i),e.jsx("span",{className:"text-sm capitalize",children:i.replace("_"," ")})]},i))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-2",children:"Available Sports"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.sports.map(i=>e.jsx(L,{variant:"default",className:"bg-[var(--brand-primary)]/10 text-[var(--brand-primary)] border-0",children:i},i))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-2",children:"Location"}),e.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-100 to-green-100 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-600",children:[e.jsx(fe,{className:"w-12 h-12 mx-auto mb-2 text-blue-500"}),e.jsx("p",{className:"text-sm",children:"Interactive map coming soon"}),e.jsx("p",{className:"text-xs",children:t.address})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-[var(--border)]",children:[e.jsx(v,{onClick:()=>l(t.id),disabled:r,className:"flex-1 bg-[var(--brand-primary)] hover:bg-[var(--brand-primary)]/90 text-white",children:r?"Booking...":"Book This Venue"}),e.jsx(v,{variant:"outline",onClick:s,children:"Close"})]})]})})},xs=({isOpen:t,onClose:a,filters:s,onFiltersChange:l})=>{if(!t)return null;const r=(i,m)=>{l({...s,[i]:m})},n=i=>{const m=s.amenities.includes(i)?s.amenities.filter(u=>u!==i):[...s.amenities,i];r("amenities",m)},o=["parking","locker_room","shower","first_aid","wifi","refreshments","security","air_conditioning","lighting"];return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50",onClick:a,children:e.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-[var(--bg-surface)] shadow-xl",onClick:i=>i.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),e.jsx(v,{variant:"outline",size:"sm",onClick:a,children:e.jsx(J,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Distance (km)"}),e.jsx("input",{type:"range",min:"1",max:"50",value:s.distance,onChange:i=>r("distance",Number(i.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[e.jsx("span",{children:"1 km"}),e.jsxs("span",{children:[s.distance," km"]}),e.jsx("span",{children:"50 km"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price Range (NPR/hour)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:s.priceRange[0],onChange:i=>r("priceRange",[Number(i.target.value),s.priceRange[1]]),className:"flex-1 px-3 py-2 border border-[var(--border)] rounded-lg",placeholder:"Min"}),e.jsx("span",{children:"-"}),e.jsx("input",{type:"number",value:s.priceRange[1],onChange:i=>r("priceRange",[s.priceRange[0],Number(i.target.value)]),className:"flex-1 px-3 py-2 border border-[var(--border)] rounded-lg",placeholder:"Max"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amenities"}),e.jsx("div",{className:"space-y-2",children:o.map(i=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.amenities.includes(i),onChange:()=>n(i)}),e.jsx("span",{className:"capitalize",children:i.replace("_"," ")})]},i))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Sort By"}),e.jsx("div",{className:"space-y-2",children:[{value:"distance",label:"Distance"},{value:"price",label:"Price"},{value:"rating",label:"Rating"},{value:"capacity",label:"Capacity"}].map(i=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"sortBy",value:i.value,checked:s.sortBy===i.value,onChange:m=>r("sortBy",m.target.value)}),e.jsx("span",{children:i.label})]},i.value))})]})]}),e.jsxs("div",{className:"flex gap-2 mt-8",children:[e.jsx(v,{variant:"outline",onClick:a,className:"flex-1",children:"Apply Filters"}),e.jsx(v,{onClick:()=>{l({sport:"",distance:10,priceRange:[0,5e3],amenities:[],sortBy:"distance",sortOrder:"asc"}),a()},className:"flex-1",children:"Clear All"})]})]})})})};function hs(){const{location:t}=ge(),[a,s]=d.useState([]),[l,r]=d.useState(!0),[n,o]=d.useState(!1),[i,m]=d.useState(null),[u,j]=d.useState(new Set),[p,y]=d.useState({sport:"",distance:10,priceRange:[0,5e3],amenities:[],sortBy:"distance",sortOrder:"asc"}),A=d.useCallback(async()=>{try{r(!0);let g=(await F.getVenues()).map(x=>({id:x.id.toString(),name:x.name,description:x.description,address:x.address,phone:x.phone,capacity:x.capacity,hourlyRate:x.hourlyRate,amenities:x.amenities,location:{lat:x.latitude,lng:x.longitude},distance:Math.random()*10+1,rating:4+Math.random(),reviewCount:Math.floor(Math.random()*100)+10,photos:[],isActive:x.isActive,sports:["Futsal","Basketball","Volleyball"]})).filter(x=>!(p.distance>0&&(x.distance||0)>p.distance||p.priceRange[0]>0&&x.hourlyRate<p.priceRange[0]||p.priceRange[1]<5e3&&x.hourlyRate>p.priceRange[1]||p.amenities.length>0&&!p.amenities.every(c=>x.amenities.includes(c))));g.sort((x,c)=>{let N=0;switch(p.sortBy){case"distance":N=(x.distance||0)-(c.distance||0);break;case"price":N=x.hourlyRate-c.hourlyRate;break;case"rating":N=(c.rating||0)-(x.rating||0);break;case"capacity":N=c.capacity-x.capacity;break}return p.sortOrder==="asc"?N:-N}),s(g)}catch(b){console.error("Error fetching venues:",b)}finally{r(!1)}},[p]),w=async b=>{try{j(k=>new Set(k).add(b)),await new Promise(k=>setTimeout(k,1e3)),console.log("Venue booked successfully!"),m(null)}catch(k){console.error("Error booking venue:",k)}finally{j(k=>{const g=new Set(k);return g.delete(b),g})}};return d.useEffect(()=>{A()},[A]),e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),e.jsx("input",{type:"text",placeholder:"Search venues...",value:p.sport,onChange:b=>y(k=>({...k,sport:b.target.value})),className:"w-full pl-10 pr-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),e.jsx("input",{type:"text",placeholder:"Location",value:(t==null?void 0:t.name)||"Kathmandu",className:"w-full pl-10 pr-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent",readOnly:!0})]}),e.jsxs("select",{value:p.sortBy,onChange:b=>y(k=>({...k,sortBy:b.target.value})),className:"w-full px-4 py-2 border border-[var(--border)] rounded-lg focus:ring-2 focus:ring-[var(--brand-primary)] focus:border-transparent",children:[e.jsx("option",{value:"distance",children:"Sort by Distance"}),e.jsx("option",{value:"price",children:"Sort by Price"}),e.jsx("option",{value:"rating",children:"Sort by Rating"}),e.jsx("option",{value:"capacity",children:"Sort by Capacity"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(v,{onClick:()=>o(!0),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Filters"]}),e.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:[a.length," venues found"]})]})]})}),e.jsx("div",{className:"space-y-4",children:l?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((b,k)=>e.jsx(f,{className:"p-4 animate-pulse",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-[var(--bg-muted)] rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-[var(--bg-muted)] rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-[var(--bg-muted)] rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-[var(--bg-muted)] rounded w-2/3"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-6 bg-[var(--bg-muted)] rounded w-16"}),e.jsx("div",{className:"h-6 bg-[var(--bg-muted)] rounded w-20"})]})]})]})},k))}):a.length>0?a.map(b=>e.jsx(ds,{venue:b,onClick:m,onBook:w,isBooking:u.has(b.id)},b.id)):e.jsxs(f,{className:"p-8 text-center",children:[e.jsx(D,{className:"w-12 h-12 mx-auto mb-3 text-[var(--text-muted)] opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold text-[var(--text)] mb-2",children:"No venues found"}),e.jsx("p",{className:"text-[var(--text-muted)] mb-4",children:"Try adjusting your filters or search criteria"}),e.jsx(v,{onClick:()=>o(!0),variant:"outline",children:"Adjust Filters"})]})}),e.jsx(xs,{isOpen:n,onClose:()=>o(!1),filters:p,onFiltersChange:y}),e.jsx(ms,{venue:i,isOpen:!!i,onClose:()=>m(null),onBook:w,isBooking:i?u.has(i.id):!1})]})}const us=({profile:t,onEdit:a,onShare:s,onQRCode:l,onCopyInvite:r})=>{const[n,o]=d.useState(!1),[i,m]=d.useState(!1),u=y=>Ce[y]||Ce.Learner,j=()=>{const y=u(t.rank),A=t.xp-y.min,w=y.max-y.min;return Math.min(A/w*100,100)},p=()=>{navigator.clipboard.writeText(`Join me on Pickup Sports! Use my invite code: ${t.username}`),m(!0),setTimeout(()=>m(!1),2e3),r()};return e.jsxs(f,{className:"p-6 bg-gradient-to-r from-[var(--brand-primary)]/5 to-[var(--brand-secondary)]/5 border-[var(--brand-primary)]/20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-secondary)] flex items-center justify-center text-white text-2xl font-bold",children:t.avatar?e.jsx("img",{src:t.avatar,alt:t.firstName,className:"w-full h-full rounded-full object-cover"}):t.firstName[0]+t.lastName[0]}),e.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-[var(--brand-primary)] rounded-full flex items-center justify-center text-white hover:bg-[var(--brand-primary)]/90 transition-colors",children:e.jsx(re,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mt-4 text-center md:text-left",children:[e.jsxs("h1",{className:"text-2xl font-bold text-[var(--text)]",children:[t.firstName," ",t.lastName]}),e.jsxs("p",{className:"text-[var(--text-muted)]",children:["@",t.username]}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 text-xs rounded-full font-medium ${u(t.rank).color} bg-current/10`,children:t.rank})})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-[var(--text-muted)]",children:"XP Progress"}),e.jsxs("span",{className:"font-semibold",children:[t.xp," XP"]})]}),e.jsx("div",{className:"w-full bg-[var(--bg-muted)] rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-[var(--brand-primary)] to-[var(--brand-secondary)] h-3 rounded-full transition-all duration-500",style:{width:`${j()}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[e.jsxs("span",{children:[u(t.rank).min," XP"]}),e.jsxs("span",{children:[u(t.rank).max," XP"]})]})]}),e.jsxs("div",{className:"text-sm text-[var(--text-muted)] mb-4",children:[e.jsxs("span",{className:"font-semibold text-[var(--brand-primary)]",children:["Game face on, ",t.firstName,"!"]})," ðŸ†"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(v,{onClick:a,variant:"outline",size:"sm",children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),"Edit Profile"]}),e.jsxs(v,{onClick:s,variant:"outline",size:"sm",children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Share"]}),e.jsxs(v,{onClick:()=>o(!0),variant:"outline",size:"sm",children:[e.jsx(we,{className:"w-4 h-4 mr-1"}),"QR Code"]}),e.jsxs(v,{onClick:p,variant:"outline",size:"sm",className:i?"bg-green-100 text-green-700":"",children:[i?e.jsx(W,{className:"w-4 h-4 mr-1"}):e.jsx(de,{className:"w-4 h-4 mr-1"}),i?"Copied!":"Copy Invite"]})]})]})]}),n&&e.jsx(ee,{isOpen:n,onClose:()=>o(!1),size:"sm",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Profile QR Code"}),e.jsx("div",{className:"w-48 h-48 bg-[var(--bg-muted)] rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(we,{className:"w-24 h-24 text-[var(--text-muted)]"})}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Share this QR code to let others find your profile"})]})})]})},ps=({completion:t,onTaskComplete:a})=>{const s=[{key:"hasPhoto",label:"Add photo",icon:re,completed:t.hasPhoto},{key:"emailVerified",label:"Verify email",icon:Pe,completed:t.emailVerified},{key:"hasBio",label:"Write bio",icon:je,completed:t.hasBio},{key:"hasPreferredSport",label:"Pick preferred sport",icon:B,completed:t.hasPreferredSport}],l=s.filter(n=>n.completed).length,r=l/s.length*100;return e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)]",children:"Profile Completion"}),e.jsxs("span",{className:"text-sm text-[var(--text-muted)]",children:[l,"/",s.length," tasks"]})]}),e.jsx("div",{className:"w-full bg-[var(--bg-muted)] rounded-full h-2 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-[var(--brand-primary)] to-[var(--brand-secondary)] h-2 rounded-full transition-all duration-500",style:{width:`${r}%`}})}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map(n=>{const o=n.icon;return e.jsxs("button",{onClick:()=>!n.completed&&a(n.key),className:`flex items-center gap-2 p-2 rounded-lg text-sm transition-colors ${n.completed?"bg-green-100 text-green-700":"bg-[var(--bg-muted)] text-[var(--text-muted)] hover:bg-[var(--brand-primary)]/10"}`,children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:n.label}),n.completed&&e.jsx(W,{className:"w-4 h-4 ml-auto"})]},n.key)})})]})},vs=({privacy:t,onToggle:a})=>{const s=[{key:"showEmail",label:"Email",icon:Pe,public:t.showEmail},{key:"showPhone",label:"Phone",icon:be,public:t.showPhone},{key:"showLocation",label:"Location",icon:D,public:t.showLocation}];return e.jsxs(f,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Privacy Settings"}),e.jsx("div",{className:"space-y-3",children:s.map(l=>{const r=l.icon;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:"w-4 h-4 text-[var(--text-muted)]"}),e.jsx("span",{className:"text-sm",children:l.label})]}),e.jsxs("button",{onClick:()=>a(l.key),className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs transition-colors ${l.public?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[l.public?e.jsx(Ae,{className:"w-3 h-3"}):e.jsx(Te,{className:"w-3 h-3"}),l.public?"Public":"Private"]})]},l.key)})})]})},gs=({profile:t})=>{const[a,s]=d.useState(t.bio||""),[l,r]=d.useState(!1),n=()=>{r(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)]",children:"Bio"}),e.jsxs(v,{onClick:()=>r(!l),variant:"outline",size:"sm",children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),l?"Save":"Edit"]})]}),l?e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:a,onChange:o=>s(o.target.value),placeholder:"Tell us about yourself...",className:"w-full p-3 border border-[var(--border)] rounded-lg resize-none",rows:3}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{onClick:n,size:"sm",children:"Save"}),e.jsx(v,{onClick:()=>r(!1),variant:"outline",size:"sm",children:"Cancel"})]})]}):e.jsx("p",{className:"text-[var(--text-muted)]",children:a||"No bio yet. Click Edit to add one!"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(f,{className:"p-4 text-center",children:[e.jsx(q,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.stats.fairPlayScore}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Fair Play Score"})]}),e.jsxs(f,{className:"p-4 text-center",children:[e.jsx(Ge,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.stats.currentStreak}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Current Streak"})]}),e.jsxs(f,{className:"p-4 text-center",children:[e.jsx(B,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.stats.mostPlayedSport}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Most Played"})]})]}),e.jsxs(f,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Next Match"}),e.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:[e.jsx(ne,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No upcoming matches"}),e.jsx(v,{className:"mt-3",size:"sm",children:"Find Games"})]})]})]})},bs=({profile:t})=>{const[a,s]=d.useState([]),[l,r]=d.useState("all");d.useEffect(()=>{s([{id:"1",type:"join",title:"Joined Futsal Game",description:'Joined "Friday Night Futsal" at Tundikhel Court',timestamp:"2 hours ago",xpGained:5,icon:"âš½"},{id:"2",type:"badge",title:"Earned Badge",description:'Unlocked "Team Player" badge',timestamp:"1 day ago",xpGained:25,icon:"ðŸ†"},{id:"3",type:"rating",title:"Received Rating",description:"Got 5 stars for fair play",timestamp:"2 days ago",xpGained:10,icon:"â­"},{id:"4",type:"team",title:"Joined Team",description:'Became captain of "Thunder Bolts"',timestamp:"1 week ago",xpGained:15,icon:"ðŸ‘¥"},{id:"5",type:"rsvp",title:"RSVP Confirmed",description:"Confirmed attendance for Basketball game",timestamp:"1 week ago",xpGained:5,icon:"âœ…"}])},[]);const n=a.filter(o=>l==="all"||o.type===l);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","join","rsvp","rating","badge","team"].map(o=>e.jsx("button",{onClick:()=>r(o),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${l===o?"bg-[var(--brand-primary)] text-white":"bg-[var(--bg-surface)] text-[var(--text-muted)] hover:bg-[var(--brand-primary)]/10"}`,children:o.charAt(0).toUpperCase()+o.slice(1)},o))}),e.jsx("div",{className:"space-y-3",children:n.map(o=>e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[var(--brand-primary)]/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:o.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-[var(--text)]",children:o.title}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:o.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:o.timestamp}),o.xpGained&&e.jsxs(L,{variant:"default",size:"sm",className:"bg-green-100 text-green-700 border-0",children:["+",o.xpGained," XP"]})]})]})]})},o.id))}),e.jsx("div",{className:"text-center",children:e.jsx(v,{variant:"outline",size:"sm",children:"Load More"})})]})},fs=({profile:t})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(f,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Sport Appearances"}),e.jsx("div",{className:"h-64 bg-[var(--bg-muted)] rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-[var(--text-muted)]",children:[e.jsx(Me,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Chart coming soon"})]})})]}),e.jsxs(f,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Attendance (Last 8 Weeks)"}),e.jsx("div",{className:"h-64 bg-[var(--bg-muted)] rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-[var(--text-muted)]",children:[e.jsx(he,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Chart coming soon"})]})})]}),e.jsxs(f,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Weekly Activity Heatmap"}),e.jsx("div",{className:"h-32 bg-[var(--bg-muted)] rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"text-center text-[var(--text-muted)]",children:e.jsx("div",{className:"text-sm",children:"Heatmap coming soon"})})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(f,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.stats.totalGames}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Total Games"})]}),e.jsxs(f,{className:"p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-[var(--text)]",children:[Math.round(t.stats.winRate*100),"%"]}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Win Rate"})]}),e.jsxs(f,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.stats.currentStreak}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Current Streak"})]}),e.jsxs(f,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.stats.fairPlayScore}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Fair Play Score"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{variant:"outline",size:"sm",children:[e.jsx(Re,{className:"w-4 h-4 mr-1"}),"Download Player Card"]}),e.jsxs(v,{variant:"outline",size:"sm",children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Share Recap"]})]})]}),js=({profile:t})=>{const[a,s]=d.useState(!1);d.useEffect(()=>{sessionStorage.getItem("visitedBadges")||(s(!0),sessionStorage.setItem("visitedBadges","true"),setTimeout(()=>s(!1),3e3))},[]);const l=t.badges.filter(n=>n.earned),r=t.badges.filter(n=>!n.earned);return e.jsxs("div",{className:"space-y-6",children:[a&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-6xl animate-bounce",children:"ðŸŽ‰"})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(f,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:l.length}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Badges Earned"})]}),e.jsxs(f,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:r.length}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Badges Locked"})]}),e.jsxs(f,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.badges.length}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Total Badges"})]})]}),l.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Earned Badges"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(n=>e.jsx(f,{className:"p-4 border-green-200 bg-green-50/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:n.icon})}),e.jsx("h4",{className:"font-semibold text-[var(--text)] mb-1",children:n.name}),e.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-2",children:n.description}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{variant:"default",size:"sm",className:"bg-green-100 text-green-700 border-0",children:"Earned"}),n.earnedAt&&e.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:new Date(n.earnedAt).toLocaleDateString()})]})]})},n.id))})]}),r.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Available Badges"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(n=>e.jsx(f,{className:"p-4 border-gray-200 bg-gray-50/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl grayscale opacity-50",children:n.icon})}),e.jsx("h4",{className:"font-semibold text-[var(--text)] mb-1",children:n.name}),e.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-2",children:n.description}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",className:"text-gray-500",children:"Locked"}),e.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:["+",n.xpReward," XP"]})]})]})},n.id))})]}),e.jsxs(f,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Badge Categories"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ†"}),e.jsx("h4",{className:"font-medium text-[var(--text)]",children:"Achievement"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Complete specific tasks"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸŽ¯"}),e.jsx("h4",{className:"font-medium text-[var(--text)]",children:"Milestone"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Reach important goals"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"â­"}),e.jsx("h4",{className:"font-medium text-[var(--text)]",children:"Special"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Unique accomplishments"})]})]})]})]})},ys=({profile:t})=>{const a=l=>{switch(l){case"captain":return e.jsx(ct,{className:"w-4 h-4"});case"coach":return e.jsx(X,{className:"w-4 h-4"});default:return e.jsx(ae,{className:"w-4 h-4"})}},s=l=>{switch(l){case"captain":return"bg-yellow-100 text-yellow-700";case"coach":return"bg-blue-100 text-blue-700";default:return"bg-green-100 text-green-700"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(f,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.teams.length}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Teams Joined"})]}),e.jsxs(f,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.teams.filter(l=>l.role==="captain").length}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Teams Captained"})]}),e.jsxs(f,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.teams.filter(l=>l.role==="player").length}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Teams as Player"})]})]}),e.jsx("div",{className:"space-y-4",children:t.teams.length>0?t.teams.map(l=>e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[var(--brand-primary)] to-[var(--brand-secondary)] rounded-full flex items-center justify-center text-white font-bold",children:l.name[0]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)]",children:l.name}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:l.sport})]})]}),e.jsx(L,{variant:"default",className:`${s(l.role)} border-0`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[a(l.role),e.jsx("span",{className:"capitalize",children:l.role})]})})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-[var(--text-muted)]"}),e.jsxs("span",{className:"text-sm text-[var(--text-muted)]",children:[l.members.length," members"]})]}),e.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:["Joined ",new Date(l.joinedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"outline",size:"sm",children:"View Team"}),l.role==="captain"&&e.jsxs(v,{variant:"outline",size:"sm",children:[e.jsx(X,{className:"w-4 h-4 mr-1"}),"Manage"]})]})]},l.id)):e.jsxs(f,{className:"p-8 text-center",children:[e.jsx(O,{className:"w-12 h-12 mx-auto mb-4 text-[var(--text-muted)] opacity-50"}),e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-2",children:"No Teams Yet"}),e.jsx("p",{className:"text-[var(--text-muted)] mb-4",children:"Join a team or create your own to start playing with others"}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsxs(v,{size:"sm",children:[e.jsx(K,{className:"w-4 h-4 mr-1"}),"Create Team"]}),e.jsx(v,{variant:"outline",size:"sm",children:"Find Teams"})]})]})}),e.jsxs(f,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Team Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(v,{variant:"outline",className:"justify-start",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Create New Team"]}),e.jsxs(v,{variant:"outline",className:"justify-start",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Find Teams to Join"]})]})]})]})},Ns=({profile:t,onAvailabilityUpdate:a})=>{var A,w,b,k,g,x;const[s,l]=d.useState(t.sports),[r,n]=d.useState(null),[o,i]=d.useState(!1),m=["Futsal","Basketball","Cricket","Volleyball","Badminton","Tennis","Football","Table Tennis"],u=(c,N)=>{l(M=>{const S=M.map(h=>h.sport===c?{...h,...N}:h);return i(!0),S})},j=c=>{if(s.find(M=>M.sport===c))return;const N={sport:c,skillLevel:1,positions:[],styleTags:[],intensity:"casual",availability:{},visibility:"public"};l(M=>[...M,N]),n(c),i(!0)},p=()=>{i(!1),console.log("Saving sports profile:",s)},y=c=>{switch(c){case"professional":return"bg-purple-100 text-purple-700";case"competitive":return"bg-red-100 text-red-700";default:return"bg-green-100 text-green-700"}};return e.jsxs("div",{className:"space-y-6",children:[o&&e.jsx(f,{className:"p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm text-blue-700",children:"You have unsaved changes"})]}),e.jsxs(v,{onClick:p,size:"sm",children:[e.jsx(_t,{className:"w-4 h-4 mr-1"}),"Save Changes"]})]})}),e.jsxs(f,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"How You Play"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:m.map(c=>{const N=r===c,M=s.find(S=>S.sport===c);return e.jsxs("button",{onClick:()=>{M?n(N?null:c):j(c)},className:`p-3 rounded-lg text-sm font-medium transition-colors ${N?"bg-[var(--brand-primary)] text-white":M?"bg-green-100 text-green-700":"bg-[var(--bg-surface)] text-[var(--text-muted)] hover:bg-[var(--brand-primary)]/10"}`,children:[c,M&&e.jsx("span",{className:"ml-1",children:"âœ“"})]},c)})})]}),r&&e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-[var(--text)]",children:[r," Profile"]}),e.jsx(L,{variant:"default",className:`${y(((A=s.find(c=>c.sport===r))==null?void 0:A.intensity)||"casual")} border-0`,children:((w=s.find(c=>c.sport===r))==null?void 0:w.intensity)||"casual"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Skill Level (1-5)"}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(c=>{var N;return e.jsx("button",{className:`w-8 h-8 rounded-full text-sm font-medium transition-colors ${((N=s.find(M=>M.sport===r))==null?void 0:N.skillLevel)===c?"bg-[var(--brand-primary)] text-white":"bg-[var(--bg-muted)] text-[var(--text-muted)] hover:bg-[var(--brand-primary)]/10"}`,onClick:()=>u(r,{skillLevel:c}),children:c},c)})}),e.jsxs("div",{className:"flex justify-between text-xs text-[var(--text-muted)] mt-1",children:[e.jsx("span",{children:"Beginner"}),e.jsx("span",{children:"Expert"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Intensity"}),e.jsxs("select",{value:((b=s.find(c=>c.sport===r))==null?void 0:b.intensity)||"casual",onChange:c=>u(r,{intensity:c.target.value}),className:"w-full p-2 border border-[var(--border)] rounded-lg",children:[e.jsx("option",{value:"casual",children:"Casual"}),e.jsx("option",{value:"competitive",children:"Competitive"}),e.jsx("option",{value:"professional",children:"Professional"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Positions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Forward","Midfielder","Defender","Goalkeeper","Point Guard","Center","Wing"].map(c=>{var M;const N=(M=s.find(S=>S.sport===r))==null?void 0:M.positions.includes(c);return e.jsx("button",{onClick:()=>{var P;const S=((P=s.find(C=>C.sport===r))==null?void 0:P.positions)||[],h=N?S.filter(C=>C!==c):[...S,c];u(r,{positions:h})},className:`px-3 py-1 rounded-full text-xs transition-colors ${N?"bg-[var(--brand-primary)] text-white":"bg-[var(--bg-muted)] text-[var(--text-muted)] hover:bg-[var(--brand-primary)]/10"}`,children:c},c)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Playing Style"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Aggressive","Strategic","Defensive","Offensive","Team Player","Individual","Fast","Technical"].map(c=>{var M;const N=(M=s.find(S=>S.sport===r))==null?void 0:M.styleTags.includes(c);return e.jsx("button",{onClick:()=>{var P;const S=((P=s.find(C=>C.sport===r))==null?void 0:P.styleTags)||[],h=N?S.filter(C=>C!==c):[...S,c];u(r,{styleTags:h})},className:`px-3 py-1 rounded-full text-xs transition-colors ${N?"bg-[var(--brand-primary)] text-white":"bg-[var(--bg-muted)] text-[var(--text-muted)] hover:bg-[var(--brand-primary)]/10"}`,children:c},c)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Profile Visibility"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>u(r,{visibility:"public"}),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${((k=s.find(c=>c.sport===r))==null?void 0:k.visibility)==="public"?"bg-green-100 text-green-700":"bg-[var(--bg-muted)] text-[var(--text-muted)]"}`,children:[e.jsx(Ae,{className:"w-4 h-4"}),"Public"]}),e.jsxs("button",{onClick:()=>u(r,{visibility:"private"}),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${((g=s.find(c=>c.sport===r))==null?void 0:g.visibility)==="private"?"bg-red-100 text-red-700":"bg-[var(--bg-muted)] text-[var(--text-muted)]"}`,children:[e.jsx(Te,{className:"w-4 h-4"}),"Private"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Weekly Availability"}),e.jsx("div",{className:"grid grid-cols-7 gap-1 text-xs",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((c,N)=>{var h,P,C;const M=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"][N],S=((C=(P=(h=s.find(R=>R.sport===r))==null?void 0:h.availability)==null?void 0:P[M])==null?void 0:C.some(R=>R.available))||!1;return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-[var(--text-muted)] mb-1",children:c}),e.jsx("button",{onClick:()=>{var I;const _={...((I=s.find($=>$.sport===r))==null?void 0:I.availability)||{},[M]:[{start:"18:00",end:"20:00",available:!S}]};u(r,{availability:_}),a()},className:`w-8 h-8 rounded-full text-xs font-medium transition-colors ${S?"bg-green-100 text-green-700":"bg-[var(--bg-muted)] text-[var(--text-muted)] hover:bg-green-100"}`,children:S?"âœ“":"â—‹"})]},c)})}),e.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"Click to toggle availability for each day"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),e.jsx("textarea",{value:((x=s.find(c=>c.sport===r))==null?void 0:x.notes)||"",onChange:c=>u(r,{notes:c.target.value}),placeholder:"Add any additional notes about your playing style...",className:"w-full p-3 border border-[var(--border)] rounded-lg resize-none",rows:3})]})]})]}),e.jsxs(f,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-4",children:"Your Sports Summary"}),e.jsx("div",{className:"space-y-3",children:s.map(c=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-[var(--bg-muted)] rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{className:"w-5 h-5 text-[var(--text-muted)]"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-[var(--text)]",children:c.sport}),e.jsxs("div",{className:"text-sm text-[var(--text-muted)]",children:["Level ",c.skillLevel," â€¢ ",c.intensity," â€¢ ",c.positions.length," positions"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"outline",size:"sm",className:c.visibility==="public"?"text-green-600":"text-red-600",children:c.visibility}),e.jsx("button",{onClick:()=>n(c.sport),className:"text-[var(--brand-primary)] hover:underline text-sm",children:"Edit"})]})]},c.sport))})]})]})},ws=({profile:t})=>{const[a,s]=d.useState(!1),[l,r]=d.useState(!1),[n,o]=d.useState(!1),i=()=>{console.log("Enabling 2FA"),s(!1)},m=()=>{console.log("Disabling 2FA")},u=p=>{console.log("Revoking session:",p)},j=()=>{console.log("Changing password"),r(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(te,{className:"w-6 h-6 text-[var(--brand-primary)]"}),e.jsx("h3",{className:"font-semibold text-[var(--text)]",children:"Security Overview"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-[var(--bg-muted)] rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.security.twoFactorEnabled?"âœ“":"âœ—"}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"2FA Status"})]}),e.jsxs("div",{className:"text-center p-3 bg-[var(--bg-muted)] rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:t.security.activeSessions.length}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Active Sessions"})]}),e.jsxs("div",{className:"text-center p-3 bg-[var(--bg-muted)] rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-[var(--text)]",children:"Strong"}),e.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:"Password Strength"})]})]})]}),e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)]",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:t.security.twoFactorEnabled?"Add an extra layer of security to your account":"Your account is protected with 2FA"})]}),e.jsx(v,{variant:t.security.twoFactorEnabled?"outline":"default",onClick:()=>s(!0),children:t.security.twoFactorEnabled?"Disable 2FA":"Enable 2FA"})]})}),e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)]",children:"Active Sessions"}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>o(!0),children:"Manage Sessions"})]}),e.jsx("div",{className:"space-y-3",children:t.security.activeSessions.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-[var(--bg-muted)] rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Tt,{className:"w-5 h-5 text-[var(--text-muted)]"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-[var(--text)]",children:p.device}),e.jsxs("div",{className:"text-sm text-[var(--text-muted)] flex items-center gap-2",children:[e.jsx(D,{className:"w-3 h-3"}),p.location,e.jsx(oe,{className:"w-3 h-3 ml-2"}),p.lastActive]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[p.current&&e.jsx(L,{variant:"default",size:"sm",className:"bg-green-100 text-green-700 border-0",children:"Current"}),!p.current&&e.jsx(v,{variant:"outline",size:"sm",onClick:()=>u(p.id),children:"Revoke"})]})]},p.id))})]}),e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[var(--text)]",children:"Password"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Last changed 30 days ago"})]}),e.jsx(v,{variant:"outline",onClick:()=>r(!0),children:"Change Password"})]})}),e.jsx(f,{className:"p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ue,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Security Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Use a strong, unique password"}),e.jsx("li",{children:"â€¢ Enable two-factor authentication"}),e.jsx("li",{children:"â€¢ Log out from devices you don't recognize"}),e.jsx("li",{children:"â€¢ Don't share your login credentials"})]})]})]})}),e.jsx(ee,{isOpen:a,onClose:()=>s(!1),size:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[t.security.twoFactorEnabled?"Disable":"Enable"," Two-Factor Authentication"]}),t.security.twoFactorEnabled?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx(ue,{className:"w-12 h-12 mx-auto mb-3 text-red-500"}),e.jsx("p",{className:"text-sm text-red-700",children:"Are you sure you want to disable two-factor authentication? This will make your account less secure."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"outline",onClick:()=>s(!1),className:"flex-1",children:"Cancel"}),e.jsx(v,{onClick:m,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Disable 2FA"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-4 bg-[var(--bg-muted)] rounded-lg",children:[e.jsx(Ie,{className:"w-12 h-12 mx-auto mb-3 text-[var(--brand-primary)]"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Scan this QR code with your authenticator app"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Enter verification code"}),e.jsx("input",{type:"text",placeholder:"000000",className:"w-full p-2 border border-[var(--border)] rounded-lg text-center text-lg tracking-widest",maxLength:6})]}),e.jsx(v,{onClick:i,className:"w-full",children:"Enable 2FA"})]})]})]})}),e.jsx(ee,{isOpen:l,onClose:()=>r(!1),size:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full p-2 border border-[var(--border)] rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full p-2 border border-[var(--border)] rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",className:"w-full p-2 border border-[var(--border)] rounded-lg"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Cancel"}),e.jsx(v,{onClick:j,className:"flex-1",children:"Change Password"})]})]})]})})]})},ks=({profile:t,activeTab:a,onTabChange:s,onAvailabilityUpdate:l})=>{const r=[{id:"overview",label:"Overview",icon:ae},{id:"activity",label:"Activity",icon:ce},{id:"stats",label:"Stats",icon:Me},{id:"badges",label:"Badges",icon:qe},{id:"teams",label:"Teams",icon:O},{id:"sports",label:"Sports",icon:B},{id:"security",label:"Security",icon:te}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex overflow-x-auto gap-1 pb-2",children:r.map(n=>{const o=n.icon;return e.jsxs("button",{onClick:()=>s(n.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${a===n.id?"bg-[var(--brand-primary)] text-white":"bg-[var(--bg-surface)] text-[var(--text-muted)] hover:bg-[var(--brand-primary)]/10"}`,children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:n.label})]},n.id)})}),e.jsxs("div",{className:"min-h-[400px]",children:[a==="overview"&&e.jsx(gs,{profile:t}),a==="activity"&&e.jsx(bs,{profile:t}),a==="stats"&&e.jsx(fs,{profile:t}),a==="badges"&&e.jsx(js,{profile:t}),a==="teams"&&e.jsx(ys,{profile:t}),a==="sports"&&e.jsx(Ns,{profile:t,onAvailabilityUpdate:l}),a==="security"&&e.jsx(ws,{profile:t})]})]})},Ce={Learner:{min:0,max:100,color:"text-blue-500"},Competent:{min:100,max:250,color:"text-green-500"},Advanced:{min:250,max:500,color:"text-yellow-500"},Pro:{min:500,max:1e3,color:"text-purple-500"}},Q={ADD_FIRST_SPORT:15,COMPLETE_SPORT_PROFILE:20,UPDATE_AVAILABILITY:5,UPLOAD_PHOTO:10};function Cs(){const{profile:t}=ve(),[a,s]=d.useState(null),[l,r]=d.useState(!0),[n,o]=d.useState("overview");d.useEffect(()=>{const p={id:"1",firstName:(t==null?void 0:t.firstName)||"John",lastName:(t==null?void 0:t.lastName)||"Doe",username:(t==null?void 0:t.username)||"johndoe",email:(t==null?void 0:t.email)||"john@example.com",phone:"+977-98-123-4567",avatar:t==null?void 0:t.avatarUrl,bio:"Passionate about sports and staying active!",location:"Kathmandu, Nepal",xp:150,rank:"Competent",preferredSports:["Futsal","Basketball"],stats:{totalGames:24,winRate:.75,currentStreak:5,fairPlayScore:4.8,mostPlayedSport:"Futsal",recentWeeklyAttendance:[2,3,1,4,2,3,1]},badges:[{id:"1",name:"Team Player",description:"Played 10 team games",icon:"ðŸ†",earned:!0,earnedAt:"2024-01-15",xpReward:25,category:"achievement"},{id:"2",name:"Fair Play",description:"Maintained 4.5+ rating",icon:"â­",earned:!0,earnedAt:"2024-01-10",xpReward:20,category:"achievement"},{id:"3",name:"Streak Master",description:"5 game winning streak",icon:"ðŸ”¥",earned:!1,xpReward:30,category:"milestone"}],teams:[{id:"1",name:"Thunder Bolts",role:"captain",members:[],sport:"Futsal",joinedAt:"2024-01-01"},{id:"2",name:"City Hoops",role:"player",members:[],sport:"Basketball",joinedAt:"2024-01-15"}],sports:[{sport:"Futsal",skillLevel:4,positions:["Midfielder"],styleTags:["Aggressive"],intensity:"competitive",availability:{},visibility:"public"},{sport:"Basketball",skillLevel:3,positions:["Point Guard"],styleTags:["Strategic"],intensity:"casual",availability:{},visibility:"public"}],privacy:{showEmail:!1,showPhone:!1,showLocation:!0},security:{twoFactorEnabled:!1,activeSessions:[{id:"1",device:"Chrome on Mac",location:"Kathmandu, Nepal",lastActive:"2 hours ago",current:!0},{id:"2",device:"Safari on iPhone",location:"Kathmandu, Nepal",lastActive:"1 day ago",current:!1}]},completion:{hasPhoto:!!(t!=null&&t.avatarUrl),emailVerified:!0,hasBio:!0,hasPreferredSport:!0}};s(p),r(!1)},[t]);const i=p=>{a&&s(y=>{if(!y)return y;const A={...y};A.completion={...y.completion,[p]:!0};let w=0;switch(p){case"hasPhoto":w=Q.UPLOAD_PHOTO;break;case"hasPreferredSport":w=Q.ADD_FIRST_SPORT;break;case"hasBio":w=Q.COMPLETE_SPORT_PROFILE;break}A.xp+=w;const b=u(A.xp);return b!==A.rank&&(A.rank=b),A})},m=()=>{a&&s(p=>{if(!p)return p;const y={...p};y.xp+=Q.UPDATE_AVAILABILITY;const A=u(y.xp);return A!==y.rank&&(y.rank=A),y})},u=p=>p>=500?"Pro":p>=250?"Advanced":p>=100?"Competent":"Learner",j=p=>{a&&s(y=>y&&{...y,privacy:{...y.privacy,[p]:!y.privacy[p]}})};return l||!a?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((p,y)=>e.jsxs(f,{className:"p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-[var(--bg-muted)] rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-3 bg-[var(--bg-muted)] rounded w-2/3"})]},y))}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(us,{profile:a,onEdit:()=>console.log("Edit profile"),onShare:()=>console.log("Share profile"),onQRCode:()=>console.log("Show QR code"),onCopyInvite:()=>console.log("Copy invite")}),e.jsx(ps,{completion:a.completion,onTaskComplete:i}),e.jsx(vs,{privacy:a.privacy,onToggle:j}),e.jsx(ks,{profile:a,activeTab:n,onTabChange:o,onAvailabilityUpdate:m})]})}const Ss=()=>{const t=[{title:"Advanced Settings",description:"Configure detailed app preferences",icon:X,onClick:()=>console.log("Open advanced settings"),color:"text-blue-600"},{title:"Notification Preferences",description:"Manage your notification settings",icon:z,onClick:()=>console.log("Open notification preferences"),color:"text-green-600"},{title:"How You Play",description:"Update your sports profile",icon:pt,onClick:()=>console.log("Open sports profile"),color:"text-purple-600"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:t.map((a,s)=>{const l=a.icon;return e.jsx(f,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:a.onClick,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-gray-100 ${a.color}`,children:e.jsx(l,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-[var(--text)] mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:a.description})]}),e.jsx(Z,{className:"w-4 h-4 text-[var(--text-muted)]"})]})},s)})})},Ps=()=>{const[t,a]=d.useState({invites:!0,reminders:!0,gameUpdates:!0,teamUpdates:!0,achievements:!0}),[s,l]=d.useState(!1),[r,n]=d.useState(!1),o=async m=>{const u={...t,[m]:!t[m]};a(u),l(!0);try{await U.put("/api/v1/notifications/preferences",u),n(!0),setTimeout(()=>n(!1),2e3)}catch(j){console.error("Failed to update notification preferences:",j),a(t)}finally{l(!1)}},i=[{key:"invites",label:"Game Invites",description:"When someone invites you to a game"},{key:"reminders",label:"Reminders",description:"Game reminders and updates"},{key:"gameUpdates",label:"Game Updates",description:"Changes to games you're playing"},{key:"teamUpdates",label:"Team Updates",description:"Updates from your teams"},{key:"achievements",label:"Achievements",description:"When you earn badges or level up"}];return e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[var(--text)]",children:"Notification Preferences"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Choose what notifications you want to receive"})]}),r&&e.jsxs(L,{variant:"success",size:"sm",className:"bg-green-100 text-green-700 border-0",children:[e.jsx(W,{className:"w-3 h-3 mr-1"}),"Saved"]})]}),e.jsx("div",{className:"space-y-4",children:i.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[var(--bg-muted)] rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-[var(--text)]",children:m.label}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:m.description})]}),e.jsx("button",{onClick:()=>o(m.key),disabled:s,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t[m.key]?"bg-[var(--brand-primary)]":"bg-gray-200"} ${s?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t[m.key]?"translate-x-6":"translate-x-1"}`})})]},m.key))})]})},As=()=>{const{mode:t,setMode:a}=Ve(),[s,l]=d.useState({language:"en",theme:t,pushNotifications:!0,locationServices:!0,analytics:!0}),[r,n]=d.useState(!1),o=async(i,m)=>{const u={...s,[i]:m};l(u),i==="theme"&&a(m),n(!0);try{await U.put("/api/v1/settings",u)}catch(j){console.error("Failed to update settings:",j)}finally{n(!1)}};return e.jsxs(f,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-[var(--text)] mb-6",children:"App Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text)] mb-2",children:"Language"}),e.jsxs("select",{value:s.language,onChange:i=>o("language",i.target.value),className:"w-full p-3 border border-[var(--border)] rounded-lg bg-[var(--bg-surface)]",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ne",children:"à¤¨à¥‡à¤ªà¤¾à¤²à¥€ (Nepali)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[var(--text)] mb-2",children:"Theme"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"light",label:"Light",icon:xe},{value:"dark",label:"Dark",icon:me},{value:"system",label:"System",icon:X}].map(i=>{const m=i.icon;return e.jsxs("button",{onClick:()=>o("theme",i.value),className:`flex items-center gap-2 p-3 rounded-lg border transition-colors ${s.theme===i.value?"border-[var(--brand-primary)] bg-[var(--brand-primary)]/10":"border-[var(--border)] hover:bg-[var(--bg-muted)]"}`,children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:i.label})]},i.value)})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[var(--bg-muted)] rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{className:"w-5 h-5 text-[var(--text-muted)]"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-[var(--text)]",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Receive notifications on your device"})]})]}),e.jsx("button",{onClick:()=>o("pushNotifications",!s.pushNotifications),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.pushNotifications?"bg-[var(--brand-primary)]":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.pushNotifications?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[var(--bg-muted)] rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bt,{className:"w-5 h-5 text-[var(--text-muted)]"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-[var(--text)]",children:"Location Services"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Allow location access for nearby games"})]})]}),e.jsx("button",{onClick:()=>o("locationServices",!s.locationServices),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.locationServices?"bg-[var(--brand-primary)]":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.locationServices?"translate-x-6":"translate-x-1"}`})})]})]})]})},Ts=()=>{const[t,a]=d.useState(!1),[s,l]=d.useState(!1),r=async()=>{a(!0);try{const o=await U.get("/api/v1/data/export",{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([o.data])),m=document.createElement("a");m.href=i,m.setAttribute("download","my-data.json"),document.body.appendChild(m),m.click(),m.remove()}catch(o){console.error("Failed to download data:",o)}finally{a(!1)}},n=async()=>{a(!0);try{await U.delete("/api/v1/account"),window.location.href="/login"}catch(o){console.error("Failed to delete account:",o)}finally{a(!1)}};return e.jsxs(f,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-[var(--text)] mb-6",children:"Privacy & Data"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[var(--bg-muted)] rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"w-5 h-5 text-[var(--text-muted)]"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-[var(--text)]",children:"Download My Data"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Get a copy of all your data"})]})]}),e.jsx(v,{onClick:r,disabled:t,variant:"outline",size:"sm",children:t?"Downloading...":"Download"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Le,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-red-700",children:"Permanently delete your account and all data"})]})]}),e.jsx(v,{onClick:()=>l(!0),variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-100",children:"Delete"})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ue,{className:"w-6 h-6 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Account"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(v,{onClick:()=>l(!1),variant:"outline",className:"flex-1",children:"Cancel"}),e.jsx(v,{onClick:n,disabled:t,className:"flex-1 bg-red-600 hover:bg-red-700",children:t?"Deleting...":"Delete Account"})]})]})})]})},Ms=()=>{const[t,a]=d.useState(!1),s=`${window.location.origin}/invite?ref=user123`,l=()=>{navigator.clipboard.writeText(s),a(!0),setTimeout(()=>a(!1),2e3)},r=async()=>{if(navigator.share)try{await navigator.share({title:"Join me on Pickup Sports!",text:"Check out this awesome sports app!",url:s})}catch{console.log("Share cancelled")}else l()};return e.jsxs(f,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-[var(--text)] mb-6",children:"Invite Friends"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-[var(--bg-muted)] rounded-lg",children:[e.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-2",children:"Your invite link:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 p-2 bg-white rounded border text-sm font-mono",children:s}),e.jsx(v,{onClick:l,variant:"outline",size:"sm",className:t?"bg-green-100 text-green-700":"",children:t?e.jsx(W,{className:"w-4 h-4"}):e.jsx(de,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(v,{onClick:r,variant:"outline",className:"justify-start",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Share"]}),e.jsxs(v,{onClick:l,variant:"outline",className:"justify-start",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Copy Link"]})]}),e.jsx("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:["ðŸŽ‰ You'll both get ",e.jsx("strong",{children:"50 XP"})," when your friend joins!"]})})]})]})};function Rs(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ss,{}),e.jsx(Ps,{}),e.jsx(As,{}),e.jsx(Ts,{}),e.jsx(Ms,{})]})}const Se=({notification:t,onMarkAsRead:a,onDelete:s})=>{const[l,r]=d.useState(!1),n=i=>{switch(i){case"game_invite":return e.jsx(B,{className:"w-5 h-5 text-blue-600"});case"game_reminder":return e.jsx(ne,{className:"w-5 h-5 text-orange-600"});case"team_update":return e.jsx(O,{className:"w-5 h-5 text-green-600"});case"achievement":return e.jsx(q,{className:"w-5 h-5 text-yellow-600"});case"location_update":return e.jsx(D,{className:"w-5 h-5 text-purple-600"});default:return e.jsx(z,{className:"w-5 h-5 text-gray-600"})}},o=i=>{const m=new Date(i),j=Math.floor((new Date().getTime()-m.getTime())/(1e3*60));return j<1?"Just now":j<60?`${j}m ago`:j<1440?`${Math.floor(j/60)}h ago`:j<10080?`${Math.floor(j/1440)}d ago`:m.toLocaleDateString()};return e.jsxs(f,{className:`p-4 cursor-pointer transition-all hover:shadow-md ${t.isRead?"bg-white":"bg-blue-50 border-blue-200"}`,onClick:()=>!t.isRead&&a(t.id),children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:n(t.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-medium ${t.isRead?"text-gray-700":"text-gray-900"}`,children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:t.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:o(t.createdAt)}),!t.isRead&&e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!t.isRead&&e.jsx(v,{onClick:i=>{i.stopPropagation(),a(t.id)},variant:"outline",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(W,{className:"w-3 h-3"})}),e.jsx(v,{onClick:i=>{i.stopPropagation(),r(!l)},variant:"outline",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ht,{className:"w-3 h-3"})})]})]})})]}),l&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{onClick:i=>{i.stopPropagation(),a(t.id),r(!1)},variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(W,{className:"w-3 h-3 mr-1"}),"Mark as Read"]}),e.jsxs(v,{onClick:i=>{i.stopPropagation(),s(t.id),r(!1)},variant:"outline",size:"sm",className:"flex-1 text-red-600 border-red-300 hover:bg-red-50",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"Delete"]})]})})]})},Es=({filter:t,onFilterChange:a})=>{const s=[{key:"all",label:"All"},{key:"unread",label:"Unread"},{key:"game_invite",label:"Invites"},{key:"game_reminder",label:"Reminders"},{key:"achievement",label:"Achievements"},{key:"team_update",label:"Teams"}];return e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(l=>e.jsx("button",{onClick:()=>a(l.key),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${t===l.key?"bg-[var(--brand-primary)] text-white":"bg-[var(--bg-surface)] text-[var(--text-muted)] hover:bg-[var(--brand-primary)]/10"}`,children:l.label},l.key))})},Is=()=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(z,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No notifications"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You're all caught up! New notifications will appear here."}),e.jsx(v,{variant:"outline",size:"sm",children:"Refresh"})]}),Ls=({isOpen:t,onClose:a,children:s})=>t?e.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:a}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Notifications"}),e.jsx(v,{onClick:a,variant:"outline",size:"sm",children:e.jsx(J,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(80vh-80px)]",children:s})]})]}):null;function _s(){const[t,a]=d.useState([]),[s,l]=d.useState(!0),[r,n]=d.useState("all"),[o,i]=d.useState(0),[m,u]=d.useState(!0),[j,p]=d.useState(!1),y=[{id:"1",type:"game_invite",title:"Game Invitation",message:'John Doe invited you to join "Friday Night Futsal" at Tundikhel Court',isRead:!1,createdAt:"2024-01-15T10:30:00Z",userId:"user123"},{id:"2",type:"achievement",title:"Badge Earned!",message:`Congratulations! You've earned the "Team Player" badge`,isRead:!1,createdAt:"2024-01-15T09:15:00Z",userId:"user123"},{id:"3",type:"game_reminder",title:"Game Reminder",message:"Your basketball game starts in 2 hours at City Arena",isRead:!0,createdAt:"2024-01-14T16:45:00Z",userId:"user123"},{id:"4",type:"team_update",title:"Team Update",message:'New member Sarah joined your team "Thunder Bolts"',isRead:!0,createdAt:"2024-01-14T14:20:00Z",userId:"user123"},{id:"5",type:"location_update",title:"New Venue",message:'A new sports venue "Sports Complex" opened near you',isRead:!0,createdAt:"2024-01-13T11:00:00Z",userId:"user123"}];d.useEffect(()=>{A()},[o,r]);const A=async()=>{l(!0);try{const c=y.filter(N=>r==="all"?!0:r==="unread"?!N.isRead:N.type===r);a(c),u(!1)}catch(c){console.error("Failed to load notifications:",c)}finally{l(!1)}},w=async c=>{try{await U.put(`/api/v1/notifications/${c}/read`),a(N=>N.map(M=>M.id===c?{...M,isRead:!0}:M))}catch(N){console.error("Failed to mark notification as read:",N)}},b=async()=>{try{await U.put("/api/v1/notifications/read-all"),a(c=>c.map(N=>({...N,isRead:!0})))}catch(c){console.error("Failed to mark all notifications as read:",c)}},k=async c=>{try{await U.delete(`/api/v1/notifications/${c}`),a(N=>N.filter(M=>M.id!==c))}catch(N){console.error("Failed to delete notification:",N)}},g=t.filter(c=>!c.isRead).length,x=t.filter(c=>r==="all"?!0:r==="unread"?!c.isRead:c.type===r);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-[var(--text)]",children:"Notifications"}),e.jsx("p",{className:"text-[var(--text-muted)]",children:g>0?`${g} unread notifications`:"All caught up!"})]}),e.jsxs("div",{className:"flex gap-2",children:[g>0&&e.jsxs(v,{onClick:b,variant:"outline",size:"sm",children:[e.jsx(tt,{className:"w-4 h-4 mr-1"}),"Mark All Read"]}),e.jsxs(v,{onClick:()=>p(!0),variant:"outline",size:"sm",className:"md:hidden",children:[e.jsx(z,{className:"w-4 h-4 mr-1"}),g>0&&e.jsx(L,{variant:"error",size:"sm",className:"ml-1",children:g})]})]})]}),e.jsx(Es,{filter:r,onFilterChange:n}),e.jsx("div",{className:"space-y-3",children:s?e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((c,N)=>e.jsx(f,{className:"p-4 animate-pulse",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},N))}):x.length===0?e.jsx(Is,{}):x.map(c=>e.jsx("div",{className:"group",children:e.jsx(Se,{notification:c,onMarkAsRead:w,onDelete:k})},c.id))}),m&&!s&&e.jsx("div",{className:"text-center",children:e.jsx(v,{onClick:()=>i(c=>c+1),variant:"outline",size:"sm",children:"Load More"})}),e.jsx(Ls,{isOpen:j,onClose:()=>p(!1),children:e.jsx("div",{className:"p-4 space-y-3",children:x.map(c=>e.jsx("div",{className:"group",children:e.jsx(Se,{notification:c,onMarkAsRead:w,onDelete:k})},c.id))})})]})}const $s={getGames:F.getGames.bind(F),getVenues:F.getVenues.bind(F),getNotifications:F.getNotifications.bind(F),getRecommendations:F.getRecommendations.bind(F)};function Ds({children:t}){const{profile:a,notifications:s}=ve(),{toggleTheme:l,isDark:r,getThemeDisplayName:n}=Kt(),[o,i]=le.useState(!1),[m,u]=le.useState(!1),[j,p]=le.useState(!1),y=a!=null&&a.firstName?", "+a.firstName:"",A=s.filter(w=>!w.isRead).length;return Xt({},()=>{window.location.reload()}),Qt(),e.jsxs("div",{className:"min-h-screen bg-[var(--bg-app)] text-[var(--text-primary)] font-[var(--font-sans)]",children:[e.jsx("header",{className:"md:hidden sticky top-0 z-40 bg-[var(--bg-surface)] border-b border-[var(--border)] px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[var(--brand-primary)] rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold",children:"Pickup Sports"}),e.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Welcome back",y]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:l,className:"p-2 rounded-lg bg-[var(--bg-muted)] text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":`Switch to ${r?"light":"dark"} mode`,children:r?e.jsx(xe,{className:"w-5 h-5"}):e.jsx(me,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded-lg bg-[var(--bg-muted)] text-[var(--text-muted)] hover:bg-[var(--bg-hover)] transition-colors touch-manipulation min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Open menu",children:e.jsx(Pt,{className:"w-5 h-5"})})]})]})}),e.jsxs("header",{className:"hidden md:block relative overflow-hidden rounded-2xl border border-[var(--border)] bg-gradient-to-r from-[var(--brand-secondary)] via-[var(--brand-primary)] to-[var(--brand-accent)] p-8 text-white shadow-xl mx-4 mt-4",children:[e.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-5 h-5"})}),e.jsx("p",{className:"text-sm font-medium uppercase tracking-wider opacity-90",children:"Pickup Sports"})]}),e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back",y]}),e.jsx("p",{className:"text-white/80 max-w-md",children:"Plan matches, discover venues, and keep your crew organized in one spot."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:l,className:"bg-white/10 border-white/20 text-white hover:bg-white/20",leftIcon:r?e.jsx(xe,{className:"w-4 h-4"}):e.jsx(me,{className:"w-4 h-4"}),children:n()}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>u(!0),className:"bg-white/10 border-white/20 text-white hover:bg-white/20",leftIcon:e.jsx(K,{className:"w-4 h-4"}),children:"Create Game"})]})]}),e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})})]}),e.jsx("div",{className:"md:hidden px-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(f,{elevated:!0,className:"bg-gradient-to-br from-[var(--success-light)] to-[var(--success-light)]/50 border-[var(--success)]/20",children:e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-[var(--success)]",children:"Games"}),e.jsx("p",{className:"text-lg font-bold text-[var(--success)]",children:"24"})]}),e.jsx(B,{className:"w-6 h-6 text-[var(--success)]/60"})]})}),e.jsx(f,{elevated:!0,className:"bg-gradient-to-br from-[var(--info-light)] to-[var(--info-light)]/50 border-[var(--info)]/20",children:e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-[var(--info)]",children:"Venues"}),e.jsx("p",{className:"text-lg font-bold text-[var(--info)]",children:"8"})]}),e.jsx(D,{className:"w-6 h-6 text-[var(--info)]/60"})]})})]})}),e.jsxs("div",{className:"hidden md:grid md:grid-cols-4 gap-4 mx-4 mb-6",children:[e.jsx(f,{elevated:!0,className:"bg-gradient-to-br from-[var(--success-light)] to-[var(--success-light)]/50 border-[var(--success)]/20",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[var(--success)]",children:"Games Played"}),e.jsx("p",{className:"text-2xl font-bold text-[var(--success)]",children:"24"})]}),e.jsx(B,{className:"w-8 h-8 text-[var(--success)]/60"})]})}),e.jsx(f,{elevated:!0,className:"bg-gradient-to-br from-[var(--info-light)] to-[var(--info-light)]/50 border-[var(--info)]/20",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[var(--info)]",children:"Venues Visited"}),e.jsx("p",{className:"text-2xl font-bold text-[var(--info)]",children:"8"})]}),e.jsx(D,{className:"w-8 h-8 text-[var(--info)]/60"})]})}),e.jsx(f,{elevated:!0,className:"bg-gradient-to-br from-[var(--warning-light)] to-[var(--warning-light)]/50 border-[var(--warning)]/20",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[var(--warning)]",children:"Upcoming"}),e.jsx("p",{className:"text-2xl font-bold text-[var(--warning)]",children:"3"})]}),e.jsx(z,{className:"w-8 h-8 text-[var(--warning)]/60"})]})}),e.jsx(f,{elevated:!0,className:"bg-gradient-to-br from-[var(--brand-primary)]/10 to-[var(--brand-primary)]/5 border-[var(--brand-primary)]/20",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[var(--brand-primary)]",children:"Alerts"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-2xl font-bold text-[var(--brand-primary)]",children:A}),A>0&&e.jsx(L,{variant:"error",size:"sm",children:"New"})]})]}),e.jsx(z,{className:"w-8 h-8 text-[var(--brand-primary)]/60"})]})})]}),e.jsx("main",{className:"flex-1 px-4 pb-20 md:px-8 md:pb-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:t})}),e.jsx(Zt,{}),e.jsx(ts,{isOpen:o,onClose:()=>i(!1),title:"Menu",side:"right",size:"sm",children:e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-[var(--bg-muted)]",children:[e.jsx("div",{className:"w-10 h-10 bg-[var(--brand-primary)] rounded-full flex items-center justify-center",children:e.jsx(ae,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-[var(--text)]",children:[a==null?void 0:a.firstName," ",a==null?void 0:a.lastName]}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:a==null?void 0:a.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-[var(--bg-hover)] transition-colors touch-manipulation min-h-[44px]",children:[e.jsx(X,{className:"w-5 h-5 text-[var(--text-muted)]"}),e.jsx("span",{className:"text-[var(--text)]",children:"Settings"})]}),e.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-[var(--bg-hover)] transition-colors touch-manipulation min-h-[44px]",children:[e.jsx(z,{className:"w-5 h-5 text-[var(--text-muted)]"}),e.jsx("span",{className:"text-[var(--text)]",children:"Notifications"}),A>0&&e.jsx(L,{variant:"error",size:"sm",children:A})]})]})]})}),e.jsx(es,{isOpen:m,onClose:()=>u(!1),title:"Create Game",snapPoints:[.5,.8,.95],defaultSnapPoint:.8,children:e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"text-[var(--text-muted)] text-center",children:"Create game form would go here"})})}),e.jsx(Ye,{showBadge:!0,enableAutoSync:!0})]})}function Os(){return e.jsx(Ds,{children:e.jsxs(Ue,{children:[e.jsx(V,{index:!0,element:e.jsx(ns,{})}),e.jsx(V,{path:"games",element:e.jsx(os,{})}),e.jsx(V,{path:"venues",element:e.jsx(hs,{})}),e.jsx(V,{path:"profile",element:e.jsx(Cs,{})}),e.jsx(V,{path:"notifications",element:e.jsx(_s,{})}),e.jsx(V,{path:"settings",element:e.jsx(Rs,{})}),e.jsx(V,{path:"*",element:e.jsx(He,{to:"",replace:!0})})]})})}export{Os as default,$s as mockApi};
