import{q as l,j as e}from"./index-5gA1ZPbL.js";function E({items:i,activeKey:s,onChange:r,compact:o,unreadCount:d=0,profileCompletion:b=100,offline:c=!1}){const f=l.useRef(null),u=l.useRef(null),[L,m]=l.useState(!1);l.useEffect(()=>{m(!0),requestAnimationFrame(()=>p())},[]),l.useEffect(()=>{p()},[s,i]),l.useEffect(()=>{const t=()=>p();return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const[j,h]=l.useState(!!o);l.useEffect(()=>{h(!!o)},[o]),l.useEffect(()=>{let t=window.scrollY;const n=()=>{const a=window.scrollY;a>t+10?h(!0):a<t-10&&h(!1),t=a};return window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)},[]);function p(){const t=f.current,n=u.current;if(!t||!n)return;i.findIndex(S=>S.key===s);const a=t.querySelector(`[data-key="${s}"]`);if(!a)return;const g=a.getBoundingClientRect(),x=t.getBoundingClientRect(),k=g.left-x.left,R=g.width;n.style.transform=`translate3d(${k}px,0,0)`,n.style.width=`${R}px`}const v=t=>{const n=i.map(g=>g.key);let a=n.indexOf(s);t.key==="ArrowRight"?(a=(a+1)%n.length,r(n[a]),t.preventDefault()):t.key==="ArrowLeft"?(a=(a-1+n.length)%n.length,r(n[a]),t.preventDefault()):t.key==="Home"?(r(n[0]),t.preventDefault()):t.key==="End"?(r(n[n.length-1]),t.preventDefault()):(t.key==="Enter"||t.key===" ")&&(r(s),t.preventDefault())},w=t=>{if(navigator.vibrate)try{navigator.vibrate(10)}catch{}r(t)};return e.jsx("div",{className:`pt-bar ${j?"pt-compact":""}`,"aria-label":"Primary Navigation",children:e.jsxs("div",{className:"pt-bar-inner",children:[c&&e.jsx("div",{className:"pt-offline-ribbon",children:"Offline"}),e.jsxs("div",{className:"pt-list",role:"tablist","aria-label":"Primary",ref:f,onKeyDown:v,children:[i.map(t=>{const n=t.key===s,a=`tab-${t.key}`,g=t.key==="notifications"&&d>0,x=t.key==="profile"&&(b??100)<100;return e.jsxs("button",{id:a,"data-key":t.key,role:"tab","aria-selected":n,"aria-controls":`panel-${t.key}`,tabIndex:n?0:-1,className:"pt-tab",onClick:()=>w(t.key),"aria-disabled":t.disabled?!0:void 0,title:t.label,children:[e.jsx("span",{className:"pt-icon","aria-hidden":!0,children:t.icon}),e.jsx("span",{className:"pt-label",children:t.label}),g&&e.jsx("span",{className:"pt-badge","aria-label":`${d} unread`,children:d>99?"99+":d}),x&&e.jsx("span",{className:"pt-presence","aria-hidden":!0})]},t.key)}),e.jsx("div",{ref:u,className:"pt-indicator","aria-hidden":!0})]})]})})}const P=[{key:"games",label:"Games",icon:"⚽"},{key:"venues",label:"Venues",icon:"🏟️"},{key:"profile",label:"Profile",icon:"👤"},{key:"settings",label:"Settings",icon:"⚙️"},{key:"notifications",label:"Notifications",icon:"🔔"}];function N(i){const[s,r]=l.useState(()=>{const d=(new URLSearchParams(window.location.search).get("tab")||"").toLowerCase();return["games","venues","profile","settings","notifications"].includes(d)?d:i});return l.useEffect(()=>{const o=new URLSearchParams(window.location.search);o.set("tab",s);const d=`${window.location.pathname}?${o.toString()}`;window.history.pushState({},"",d)},[s]),[s,r]}function B(){const[i,s]=N("games"),[r,o]=l.useState(7),[d,b]=l.useState(80),[c,f]=l.useState(!1);return l.useEffect(()=>{const u=window.requestIdleCallback?window.requestIdleCallback(()=>{}):window.setTimeout(()=>{},0);return()=>{typeof u=="number"&&clearTimeout(u)}},[i]),e.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(180deg,#0b1220, #1f2937)"},children:[e.jsx(E,{items:P,activeKey:i,onChange:u=>s(u),unreadCount:r,profileCompletion:d,offline:c}),e.jsxs("div",{style:{maxWidth:960,margin:"0 auto",padding:16,color:"white"},children:[e.jsx(I,{offline:c,setOffline:f,unread:r,setUnread:o,prof:d,setProf:b}),e.jsx(C,{tab:i},i)]})]})}function I({offline:i,setOffline:s,unread:r,setUnread:o,prof:d,setProf:b}){return e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",margin:"12px 0 16px 0"},children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:i,onChange:c=>s(c.target.checked)})," Offline"]}),e.jsxs("label",{children:["Unread ",e.jsx("input",{type:"number",min:0,max:999,value:r,onChange:c=>o(parseInt(c.target.value||"0",10)),style:{width:64}})]}),e.jsxs("label",{children:["Profile % ",e.jsx("input",{type:"number",min:0,max:100,value:d,onChange:c=>b(parseInt(c.target.value||"0",10)),style:{width:64}})]})]})}function C({tab:i}){const s={background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:16};return i==="games"?e.jsxs("div",{role:"tabpanel",id:"panel-games","aria-labelledby":"tab-games",style:s,children:[e.jsx("h2",{children:"Games"}),e.jsx(y,{rows:8})]}):i==="venues"?e.jsxs("div",{role:"tabpanel",id:"panel-venues","aria-labelledby":"tab-venues",style:s,children:[e.jsx("h2",{children:"Venues"}),e.jsx(T,{})]}):i==="profile"?e.jsxs("div",{role:"tabpanel",id:"panel-profile","aria-labelledby":"tab-profile",style:s,children:[e.jsx("h2",{children:"Profile"}),e.jsx($,{})]}):i==="settings"?e.jsxs("div",{role:"tabpanel",id:"panel-settings","aria-labelledby":"tab-settings",style:s,children:[e.jsx("h2",{children:"Settings"}),e.jsx(A,{})]}):e.jsxs("div",{role:"tabpanel",id:"panel-notifications","aria-labelledby":"tab-notifications",style:s,children:[e.jsx("h2",{children:"Notifications"}),e.jsx(y,{rows:5})]})}function y({rows:i=6}){return e.jsxs("div",{children:[Array.from({length:i}).map((s,r)=>e.jsx("div",{style:{height:18,borderRadius:8,background:"linear-gradient(90deg, rgba(255,255,255,0.08), rgba(255,255,255,0.16), rgba(255,255,255,0.08))",backgroundSize:"200% 100%",animation:"pt-shimmer 1.2s linear infinite",marginBottom:12}},r)),e.jsx("style",{children:"@keyframes pt-shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}"})]})}function T(){return e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:Array.from({length:6}).map((i,s)=>e.jsxs("div",{style:{padding:12,borderRadius:12,background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[e.jsx("div",{style:{height:120,borderRadius:8,background:"rgba(255,255,255,0.08)"}}),e.jsx("div",{style:{height:14,width:"60%",marginTop:8,borderRadius:6,background:"rgba(255,255,255,0.12)"}}),e.jsx("div",{style:{height:12,width:"40%",marginTop:6,borderRadius:6,background:"rgba(255,255,255,0.10)"}})]},s))})}function $(){return e.jsxs("div",{style:{display:"grid",gap:12},children:[e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[e.jsx("div",{style:{width:64,height:64,borderRadius:999,background:"rgba(255,255,255,0.12)"}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{height:14,width:"30%",background:"rgba(255,255,255,0.12)",borderRadius:6,marginBottom:6}}),e.jsx("div",{style:{height:12,width:"50%",background:"rgba(255,255,255,0.10)",borderRadius:6}})]})]}),e.jsx("div",{style:{height:10,borderRadius:6,background:"rgba(16,185,129,0.35)",width:"70%"}})]})}function A(){return e.jsx("div",{style:{display:"grid",gap:10},children:Array.from({length:5}).map((i,s)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",borderRadius:12,background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{height:14,width:120,background:"rgba(255,255,255,0.12)",borderRadius:6,marginBottom:6}}),e.jsx("div",{style:{height:12,width:200,background:"rgba(255,255,255,0.10)",borderRadius:6}})]}),e.jsx("div",{style:{width:44,height:24,borderRadius:999,background:"rgba(255,255,255,0.12)"}})]},s))})}export{B as default};
